<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Dr.&nbsp;Lennart Wittkuhn">
<meta name="dcterms.date" content="2026-02-05">

<title>Version Control of Data with DataLad</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-8b4baf804e461d9b72633f0de59a0cac.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-9fa9e98f73ee3efa585e3f50c18792c0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./setup.html"> 
<span class="menu-text">Setup</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./tutorial.html" aria-current="page"> 
<span class="menu-text">Tutorial</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#acknowledgements" id="toc-acknowledgements" class="nav-link active" data-scroll-target="#acknowledgements">Acknowledgements</a>
  <ul class="collapse">
  <li><a href="#configuring-your-git-identity" id="toc-configuring-your-git-identity" class="nav-link" data-scroll-target="#configuring-your-git-identity">Configuring your Git identity</a></li>
  </ul></li>
  <li><a href="#introduction-setup" id="toc-introduction-setup" class="nav-link" data-scroll-target="#introduction-setup">Introduction &amp; setup</a>
  <ul class="collapse">
  <li><a href="#datalad-python-api" id="toc-datalad-python-api" class="nav-link" data-scroll-target="#datalad-python-api">DataLad Python API</a></li>
  </ul></li>
  <li><a href="#creating-a-datalad-dataset" id="toc-creating-a-datalad-dataset" class="nav-link" data-scroll-target="#creating-a-datalad-dataset">Creating a DataLad dataset</a></li>
  <li><a href="#version-control-workflows" id="toc-version-control-workflows" class="nav-link" data-scroll-target="#version-control-workflows">Version control workflows</a></li>
  <li><a href="#dataset-consumption" id="toc-dataset-consumption" class="nav-link" data-scroll-target="#dataset-consumption">Dataset consumption</a>
  <ul class="collapse">
  <li><a href="#have-access-to-more-data-than-you-have-disk-space-get-and-drop" id="toc-have-access-to-more-data-than-you-have-disk-space-get-and-drop" class="nav-link" data-scroll-target="#have-access-to-more-data-than-you-have-disk-space-get-and-drop">Have access to more data than you have disk space: <code>get</code> and <code>drop</code></a></li>
  </ul></li>
  <li><a href="#dataset-nesting" id="toc-dataset-nesting" class="nav-link" data-scroll-target="#dataset-nesting">Dataset nesting</a></li>
  <li><a href="#more-on-data-versioning-nesting-and-a-glimpse-into-reproducible-paper" id="toc-more-on-data-versioning-nesting-and-a-glimpse-into-reproducible-paper" class="nav-link" data-scroll-target="#more-on-data-versioning-nesting-and-a-glimpse-into-reproducible-paper">More on data versioning, nesting, and a glimpse into reproducible paper</a></li>
  <li><a href="#full-provenance-capture-and-reproducibility" id="toc-full-provenance-capture-and-reproducibility" class="nav-link" data-scroll-target="#full-provenance-capture-and-reproducibility">Full provenance capture and reproducibility</a>
  <ul class="collapse">
  <li><a href="#datalad-run" id="toc-datalad-run" class="nav-link" data-scroll-target="#datalad-run"><code>datalad run</code></a></li>
  <li><a href="#datalad-rerun" id="toc-datalad-rerun" class="nav-link" data-scroll-target="#datalad-rerun"><code>datalad rerun</code></a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/lnnrtwttkhn/rdm-datalad/edit/main/tutorial.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/lnnrtwttkhn/rdm-datalad/blob/main/tutorial.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/lnnrtwttkhn/rdm-datalad/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div><div class="quarto-other-links"><h2>Other Links</h2><ul><li><a href="tutorial.ipynb"><i class="bi bi-journal-code"></i>Tutorial Notebook</a></li><li><a href="tutorial_colab.ipynb"><i class="bi bi-google"></i>Tutorial (Colab)</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Version Control of Data with DataLad</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source" data-quarto-source-url="https://github.com/lnnrtwttkhn/rdm-datalad"><i class="bi"></i> Code</button></div></div>
<p class="subtitle lead">Tutorial: Research Data Management with DataLad</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p><a href="https://lennartwittkuhn.com/">Dr.&nbsp;Lennart Wittkuhn</a> <a href="mailto:lennart.wittkuhn@tutanota.com" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0003-2966-6888" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 5, 2026</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="acknowledgements" class="level2">
<h2 class="anchored" data-anchor-id="acknowledgements">Acknowledgements</h2>
<p>This tutorial was initially created by Adina Wagner for the 2020 OHBM Brainhack Traintrack session on DataLad. This notebook accompanies <a href="https://www.youtube.com/watch?v=L5A0MXqFrOY">this tutorial video</a> by Adina Wagner.</p>
<section id="configuring-your-git-identity" class="level3">
<h3 class="anchored" data-anchor-id="configuring-your-git-identity">Configuring your Git identity</h3>
<p>The first step, if you haven’t done so already, is to configure your <a href="https://git-scm.com/">Git</a> identity. If you’re new to Git, don’t worry! This configuration simply involves setting your name and email address, which will associate your changes in a project with you as the author.</p>
<p>Below, we provide instructions on how to configure your Git identity.</p>
<div id="3545575b" class="cell" data-execution_count="1">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">git</span> config user.name <span class="st">"Your name"</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">git</span> config user.email <span class="st">"Your email address"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>For this tutorial, we configure an example name and email address:</p>
<div id="0897e7a4" class="cell" data-execution_count="2">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">git</span> config <span class="at">--global</span> user.name <span class="st">"Ford Escort"</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="fu">git</span> config <span class="at">--global</span> user.email 42@H2G2.com</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
</section>
<section id="introduction-setup" class="level2">
<h2 class="anchored" data-anchor-id="introduction-setup">Introduction &amp; setup</h2>
<p><a href="https://www.datalad.org/">DataLad</a> is a data management multitool that assists you in handling the entire lifecycle of digital objects. It is a command-line tool, free and open source, and available for all major operating systems. In the command line, all operations begin with the general <code>datalad</code> command.</p>
<div id="c5098afe" class="cell" data-output-fold="true" data-execution_count="4">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># datalad</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>The basic <code>datalad</code> command without any arguments will show you a brief overview of available subcommands. This is useful for getting a quick reference of what DataLad can do.</p>
<p>For example, I can type <code>datalad --help</code> to find out more about the available commands. This will show you detailed information about command-line options and a complete list of all available DataLad commands. You can also get help for specific commands by running <code>datalad &lt;command&gt; --help</code>, for example <code>datalad create --help</code>.</p>
<section id="datalad-python-api" class="level3">
<h3 class="anchored" data-anchor-id="datalad-python-api">DataLad Python API</h3>
<p>DataLad also has a Python API that can be used in Python scripts and Jupyter notebooks. This is particularly useful for programmatic data management and integration into data analysis workflows.</p>
<div id="da59f218" class="cell" data-output-fold="true" data-execution_count="5">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1"></a><span class="ex">python3</span> <span class="at">-c</span> <span class="st">"import datalad.api as dl; print('DataLad Python API is available')"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>DataLad Python API is available</code></pre>
</div>
</details>
</div>
<p>In Python scripts, you can import the DataLad API as follows:</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a><span class="im">import</span> datalad.api <span class="im">as</span> dl</span>
<span id="cb6-2"><a href="#cb6-2"></a></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co"># Example: get data programmatically</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co"># dl.get('path/to/file')</span></span>
<span id="cb6-5"><a href="#cb6-5"></a></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co"># Example: save changes programmatically</span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="co"># dl.save(message='Automated save from script')</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>You can find more details about how to <a href="https://handbook.datalad.org/en/latest/intro/installation.html">install DataLad and its dependencies on all operating systems in the DataLad Handbook</a>. This section also explains how to install DataLad on shared machines where you may not have administrative privileges (<code>sudo</code> rights), such as high-performance computing clusters. If you already have DataLad installed, <strong>make sure that it is a recent version</strong>. DataLad is actively developed, and newer versions often include bug fixes, performance improvements, and new features. You can check the installed version using the <code>datalad --version</code> command:</p>
<div id="361ff8d0" class="cell" data-output-fold="true" data-execution_count="6">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1"></a><span class="ex">datalad</span> <span class="at">--version</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>datalad 1.3.1</code></pre>
</div>
</details>
</div>
<p>This command shows not only the DataLad version but also information about the underlying Git and git-annex versions that DataLad depends on. If your version is significantly older than the latest release, consider updating to take advantage of recent improvements.</p>
</section>
</section>
<section id="creating-a-datalad-dataset" class="level2">
<h2 class="anchored" data-anchor-id="creating-a-datalad-dataset">Creating a DataLad dataset</h2>
<p>Every command in DataLad affects or uses DataLad <em>datasets</em>, the core data structure of DataLad. A dataset is a directory on a computer that DataLad manages. You can create new, empty datasets from scratch and populate them, or transform existing directories into datasets.</p>
<p><img src="https://handbook.datalad.org/en/latest/_images/dataset.svg" style="width: 400px;"></p>
<p>Let’s start by creating a new DataLad dataset. Creating a new dataset is accomplished using the <code>datalad create</code> command. This command requires only a name for the dataset. It will then create a new directory with that name and instruct DataLad to manage it.</p>
<p>Additionally, the command includes an option, <code>-c text2git</code>. The <code>-c</code> option allows for specific configurations (also called “procedures”) of the dataset at the time of creation. The <code>text2git</code> configuration is particularly useful because it tells DataLad to store text files (like code, scripts, documentation) directly in Git instead of using git-annex. This means that text files will be version-controlled in the traditional Git way, making them easier to view, edit, and track changes. Binary files (like images, data files) will still be managed by git-annex for efficient storage. You can find detailed information about the <code>text2git</code> configuration in the DataLad handbook, specifically in the <a href="https://handbook.datalad.org/en/latest/basics/basics-configuration.html">sections on configurations and procedures</a>.</p>
<div id="b6800d49" class="cell" data-output-fold="true" data-execution_count="7">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1"></a><span class="ex">datalad</span> create <span class="at">-c</span> text2git DataLad-101</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre>[INFO   ] Running procedure cfg_text2git 

[INFO   ] == Command start (output follows) ===== 


Total: 0.00 datasets [00:00, ? datasets/s]


Total:   0%|                                     | 0.00/115 [00:00&lt;?, ? Bytes/s]


                                                                                
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
                                                                                
[INFO   ] == Command exit (modification check follows) ===== 

<span class="ansi-bold">run</span>(<span class="ansi-green-fg ansi-bold">ok</span>): /app/DataLad-101 (<span class="ansi-magenta-fg ansi-bold">dataset</span>) [/app/.venv/bin/python /app/.venv/lib/pyt...]

<span class="ansi-bold">create</span>(<span class="ansi-green-fg ansi-bold">ok</span>): /app/DataLad-101 (<span class="ansi-magenta-fg ansi-bold">dataset</span>)

action summary:

  create (ok: 1)

  run (ok: 1)
</pre>
</div>
</div>
</details>
</div>
<p>This command creates a new directory called <code>DataLad-101</code> and initializes it as a DataLad dataset. The dataset will be empty initially, but it’s now ready to track and manage your files and their history.</p>
<p>Right after dataset creation, there is a new directory on the computer called <code>DataLad-101</code>. Let’s navigate into this directory using the <code>cd</code> command and list the directory contents using <code>ls</code>.</p>
<div id="e8038285" class="cell" data-output-fold="true" data-execution_count="8">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1"></a><span class="bu">cd</span> DataLad-101</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>The <code>cd</code> command stands for “change directory” and is used to navigate between folders in your filesystem. Here we’re moving into our newly created DataLad dataset.</p>
<div id="f4f1d792" class="cell" data-output-fold="true" data-execution_count="9">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">ls</span> <span class="co"># ls does not show any output, because the dataset is empty</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>The <code>ls</code> command lists the contents of the current directory. Since our dataset was just created, it appears empty to the <code>ls</code> command. However, DataLad has actually created some hidden files (files starting with <code>.</code>) that contain the dataset’s metadata and version control information. You could see these hidden files by running <code>ls -la</code>, which shows all files including hidden ones.</p>
<p>Datasets have the exciting feature of recording everything done within them. They provide version control for all content managed by DataLad, regardless of its size. Additionally, datasets maintain a complete history that you can interact with. This history is already present, although it is quite short at this point in time. Let’s take a look at it nonetheless. This history exists thanks to Git, which is the version control system that DataLad builds upon. You can access the history of a dataset using any tool that displays Git history. For simplicity, we will use Git’s built-in <code>git log</code> command.</p>
<div id="6bb98189" class="cell" data-output-fold="true" data-execution_count="10">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">git</span> log</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>commit e4cb94075562064fd8cc87b73a984b454ba29e28 (HEAD -&gt; master)
Author: Ford Escort &lt;42@H2G2.com&gt;
Date:   Thu Feb 5 23:45:57 2026 +0000

    Instruct annex to add text files to Git

commit 5c964917126ccf92e0203b33f4ef3e9b678b8ed9
Author: Ford Escort &lt;42@H2G2.com&gt;
Date:   Thu Feb 5 23:45:56 2026 +0000

    [DATALAD] new dataset</code></pre>
</div>
</details>
</div>
<p>The <code>git log</code> command shows the commit history of the repository. Each commit represents a snapshot of your dataset at a particular point in time. You’ll see information like the commit hash (a unique identifier), the author, the date, and the commit message. Even though we haven’t added any files yet, DataLad has already made an initial commit when creating the dataset.</p>
</section>
<section id="version-control-workflows" class="level2">
<h2 class="anchored" data-anchor-id="version-control-workflows">Version control workflows</h2>
<p>Building on top of <a href="https://git-scm.com/">Git</a> and <a href="https://git-annex.branchable.com/">git-annex</a>, DataLad allows you to version control arbitrarily large files in datasets. You can keep track of revisions of data of any size, and view, interact with, or restore any version of your dataset’s history.</p>
<p><img src="https://handbook.datalad.org/en/latest/_images/local_wf.svg" style="width: 400px;"></p>
<p>Let’s start by creating a <code>books</code> directory using the <code>mkdir</code> command. Next, we will download two books from the internet. Here, we are using the command line tool <code>curl</code> to accomplish this, allowing us to perform all actions from the command line. However, if you prefer, you can also download the books manually and save them into the dataset using a file manager. Remember, a dataset is simply a directory on your computer.</p>
<div id="e7579f7c" class="cell" data-output-fold="true" data-execution_count="11">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">mkdir</span> books</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>The <code>mkdir</code> command stands for “make directory” and creates a new folder. Here we’re creating a subfolder called <code>books</code> inside our DataLad dataset to organize our content. Good organization is key to maintaining clean and understandable datasets.</p>
<div id="f896febf" class="cell" data-output-fold="true" data-execution_count="12">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1"></a><span class="bu">cd</span> books</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Now we navigate into the <code>books</code> directory we just created.</p>
<div id="5555ba8b" class="cell" data-output-fold="true" data-execution_count="13">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1"></a><span class="ex">curl</span> <span class="at">-L</span> <span class="at">-o</span> TLCL.pdf https://sourceforge.net/projects/linuxcommand/files/TLCL/19.01/TLCL-19.01.pdf/download</span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="ex">curl</span> <span class="at">-L</span> <span class="at">-o</span> byte-of-python.pdf https://edisciplinas.usp.br/pluginfile.php/3252353/mod_resource/content/1/b_Swaroop_Byte_of_python.pdf</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100   625  100   625    0     0   4244      0 --:--:-- --:--:-- --:--:--  4222100   625  100   625    0     0   4237      0 --:--:-- --:--:-- --:--:--  4222
100   367  100   367    0     0   1329      0 --:--:-- --:--:-- --:--:--  1329
100 2070k  100 2070k    0     0  2228k      0 --:--:-- --:--:-- --:--:-- 2228k
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0 24 47511   24 11571    0     0   9427      0  0:00:05  0:00:01  0:00:04  9422100 47511  100 47511    0     0  30876      0  0:00:01  0:00:01 --:--:-- 30871</code></pre>
</div>
</details>
</div>
<p>The <code>curl</code> command is a powerful tool for downloading files from the internet. Here’s what each option means:</p>
<ul>
<li><code>-L</code> tells curl to follow redirects (many URLs redirect to the actual file location)</li>
<li><code>-o filename.pdf</code> specifies the output filename for the downloaded file</li>
<li>The URL is the web address where the file is located</li>
</ul>
<p>We’re downloading two educational books: “The Linux Command Line” (TLCL) and “A Byte of Python”. These downloads will demonstrate how DataLad tracks and manages binary files.</p>
<p>Let’s navigate back to the dataset root (<code>DataLad-101</code> folder) and run the <code>tree</code> command which can visualize the directory hierarchy:</p>
<div id="56c64dac" class="cell" data-output-fold="true" data-execution_count="14">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1"></a><span class="bu">cd</span> ../</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>The <code>cd ../</code> command moves up one directory level, taking us back to the root of our DataLad dataset. The <code>../</code> notation means “parent directory”.</p>
<div id="f246b01e" class="cell" data-output-fold="true" data-execution_count="15">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1"></a><span class="ex">tree</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>.
└── books
    ├── TLCL.pdf
    └── byte-of-python.pdf

2 directories, 2 files</code></pre>
</div>
</details>
</div>
<p>The <code>tree</code> command provides a visual representation of your directory structure in a tree-like format. This is especially useful for understanding the organization of your dataset and seeing all files and folders at a glance. If <code>tree</code> is not available on your system, you can install it or use alternatives like <code>find . -type d</code> to list directories.</p>
<p>Use the <code>datalad status</code> command to find out what has happened in the dataset. This command is very helpful as it reports on the current state of your dataset. Any new or changed content will be highlighted. If nothing has changed, the <code>datalad status</code> command will report what is known as a clean dataset state. In general, it is very useful to maintain a clean dataset state. If you know Git, you can think of <code>datalad status</code> as the <code>git status</code> of DataLad.</p>
<div id="b82a444b" class="cell" data-output-fold="true" data-execution_count="16">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1"></a><span class="ex">datalad</span> status</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg ansi-bold">untracked</span>: books (<span class="ansi-magenta-fg ansi-bold">directory</span>)
</pre>
</div>
</div>
</details>
</div>
<p>The <code>datalad status</code> command will show you:</p>
<ul>
<li><strong>Untracked files</strong>: New files that DataLad hasn’t been told to manage yet</li>
<li><strong>Modified files</strong>: Files that have changed since the last save</li>
<li><strong>Clean state</strong>: No changes detected</li>
</ul>
<p>Run <code>datalad status</code> frequently to understand what changes have occurred in your dataset. This is one of the most important diagnostic commands in DataLad.</p>
<p>Any content that we want DataLad to manage needs to be explicitly added to DataLad. It is not enough to simply place it inside the dataset. To give new or changed content to DataLad, we need to save it using <code>datalad save</code>. This is the first time we need to specify a “commit message”, which is done using the <code>-m</code> option of the command. A “commit” is a snapshot of your project’s files at a specific point in time. The commit message is a short text description that explains the changes made when saving the current changes in a DataLad dataset.</p>
<div id="4c5c5f43" class="cell" data-output-fold="true" data-execution_count="17">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1"></a><span class="ex">datalad</span> save <span class="at">-m</span> <span class="st">"Add books on Python and Unix to read later"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre>Total: 0.00 datasets [00:00, ? datasets/s]


Total:   0%|                                   | 0.00/2.17M [00:00&lt;?, ? Bytes/s]


                                                                                
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
                                                                                
<span class="ansi-bold">add</span>(<span class="ansi-green-fg ansi-bold">ok</span>): books/TLCL.pdf (<span class="ansi-magenta-fg ansi-bold">file</span>)


Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
                                                                                
<span class="ansi-bold">add</span>(<span class="ansi-green-fg ansi-bold">ok</span>): books/byte-of-python.pdf (<span class="ansi-magenta-fg ansi-bold">file</span>)


Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
                                                                                
<span class="ansi-bold">save</span>(<span class="ansi-green-fg ansi-bold">ok</span>): . (<span class="ansi-magenta-fg ansi-bold">dataset</span>)


Total: 100%|██████████████████████████| 1.00/1.00 [00:00&lt;00:00, 30.1 datasets/s]
                                                                                
action summary:

  add (ok: 2)

  save (ok: 1)
</pre>
</div>
</div>
</details>
</div>
<p>The <code>datalad save</code> command is similar to <code>git add</code> and <code>git commit</code> combined. When you run this command:</p>
<ol type="1">
<li>DataLad stages all untracked and modified files</li>
<li>Creates a commit with the provided message</li>
<li>For large files, stores them efficiently using git-annex</li>
</ol>
<p>Good commit messages should be:</p>
<ul>
<li><strong>Descriptive</strong>: Explain what was added or changed</li>
<li><strong>Concise</strong>: Keep them short but informative</li>
<li><strong>Imperative mood</strong>: Use commands like “Add”, “Fix”, “Update”</li>
</ul>
<p>Without a path specified, <code>datalad save</code> will save all changes in the dataset.</p>
<p>With <code>git log -n 1</code> you can take a look at the most recent commit in the history:</p>
<div id="805e0d54" class="cell" data-output-fold="true" data-execution_count="18">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1"></a><span class="fu">git</span> log <span class="at">-n</span> 1</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>commit f6d457196ff85a6f71013839d7dc778854c821ce (HEAD -&gt; master)
Author: Ford Escort &lt;42@H2G2.com&gt;
Date:   Thu Feb 5 23:46:01 2026 +0000

    Add books on Python and Unix to read later</code></pre>
</div>
</details>
</div>
<p>The <code>-n 1</code> option limits the output to just the most recent commit. This is useful when you want to quickly see what was last saved without scrolling through the entire history. You can change the number to see more commits, for example <code>-n 5</code> would show the last 5 commits.</p>
<p><code>datalad save</code> saves all untracked content to the dataset. Sometimes, this can be inconvenient. One significant advantage of a dataset’s history is that it allows you to revert changes you are not happy with. However, this is only easily possible at the level of single commits. If one save commits several unrelated files or changes, it can be difficult to disentangle them if you ever want to revert some of those changes. To address this, you can provide a path to the specific file you want to save, allowing you to specify more precisely what will be saved together.</p>
<p>This granular approach to version control is one of the best practices in data management:</p>
<ul>
<li><strong>Logical grouping</strong>: Save related changes together</li>
<li><strong>Atomic commits</strong>: Each commit should represent one logical change</li>
<li><strong>Easier reverting</strong>: You can undo specific changes without affecting others</li>
</ul>
<p>Let’s demonstrate this by adding another book from the internet:</p>
<div id="5ebf4537" class="cell" data-output-fold="true" data-execution_count="19">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1"></a><span class="bu">cd</span> books</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="e185a1dd" class="cell" data-output-fold="true" data-execution_count="20">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1"></a><span class="ex">curl</span> <span class="at">-L</span> <span class="at">-o</span> progit.pdf https://github.com/progit/progit2/releases/download/2.1.154/progit.pdf</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0
  0 11.8M    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100 11.8M  100 11.8M    0     0  20.2M      0 --:--:-- --:--:-- --:--:-- 45.3M</code></pre>
</div>
</details>
</div>
<div id="77e004a9" class="cell" data-output-fold="true" data-execution_count="21">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1"></a><span class="bu">cd</span> ../</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="a0dde297" class="cell" data-output-fold="true" data-execution_count="22">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1"></a><span class="ex">datalad</span> status</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg ansi-bold">untracked</span>: books/progit.pdf (<span class="ansi-magenta-fg ansi-bold">file</span>)
</pre>
</div>
</div>
</details>
</div>
<p>Now when you run <code>datalad save</code>, attach a path to the command:</p>
<div id="3e8c10f4" class="cell" data-output-fold="true" data-execution_count="23">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1"></a><span class="ex">datalad</span> save <span class="at">-m</span> <span class="st">"Add reference book about Git"</span> books/progit.pdf</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre>Total: 0.00 datasets [00:00, ? datasets/s]


Total:   0%|                                   | 0.00/12.5M [00:00&lt;?, ? Bytes/s]


                                                                                
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
                                                                                
<span class="ansi-bold">add</span>(<span class="ansi-green-fg ansi-bold">ok</span>): books/progit.pdf (<span class="ansi-magenta-fg ansi-bold">file</span>)


Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
                                                                                
<span class="ansi-bold">save</span>(<span class="ansi-green-fg ansi-bold">ok</span>): . (<span class="ansi-magenta-fg ansi-bold">dataset</span>)


Total: 100%|██████████████████████████| 1.00/1.00 [00:00&lt;00:00, 31.0 datasets/s]
                                                                                
action summary:

  add (ok: 1)

  save (ok: 1)
</pre>
</div>
</div>
</details>
</div>
<p>By specifying the file path <code>books/progit.pdf</code>, we’re telling DataLad to only save this specific file. This creates a focused commit that only includes the Git book, making the history cleaner and more meaningful. You can specify multiple files, directories, or use wildcards if needed. For example:</p>
<ul>
<li><code>datalad save -m "message" file1.txt file2.txt</code> (save specific files)</li>
<li><code>datalad save -m "message" code/</code> (save entire directory)</li>
<li><code>datalad save -m "message" *.py</code> (save all Python files)</li>
</ul>
<p>Let’s take a look at files that are frequently modified, such as code or text. To demonstrate this, we will create a file and modify it. We will use a <a href="https://en.wikipedia.org/wiki/Here_document">here doc</a> for this, but you can also write the note using an editor of your choice. If you execute this code snippet, make sure to copy and paste everything, starting with <code>cat</code> and ending with the second <code>EOT</code>.</p>
<div id="17c0698b" class="cell" data-output-fold="true" data-execution_count="24">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1"></a><span class="fu">cat</span> <span class="op">&lt;&lt; EOT</span> <span class="op">&gt;</span> notes.txt</span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="st">A DataLad dataset can be created with "datalad create PATH".</span></span>
<span id="cb31-3"><a href="#cb31-3"></a><span class="st">The dataset is created empty.</span></span>
<span id="cb31-4"><a href="#cb31-4"></a></span>
<span id="cb31-5"><a href="#cb31-5"></a><span class="op">EOT</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>This command uses a “here document” (heredoc) to create a text file:</p>
<ul>
<li><code>cat &lt;&lt; EOT</code> starts a heredoc with “EOT” as the delimiter</li>
<li>Everything between the two <code>EOT</code> markers becomes the file content</li>
<li><code>&gt; notes.txt</code> redirects this content to a new file called <code>notes.txt</code></li>
<li>The final <code>EOT</code> on its own line ends the heredoc</li>
</ul>
<p>This is a convenient way to create multi-line text files from the command line.</p>
<p><code>datalad status</code> will, as expected, say that there is a new untracked file in the dataset:</p>
<div id="f0266788" class="cell" data-output-fold="true" data-execution_count="25">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1"></a><span class="ex">datalad</span> status</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg ansi-bold">untracked</span>: notes.txt (<span class="ansi-magenta-fg ansi-bold">file</span>)
</pre>
</div>
</div>
</details>
</div>
<p>We can save the newly created <code>notes.txt</code> file with the <code>datalad save</code> command and a helpful commit message. As this is the only change in the dataset, there is no need to provide a path:</p>
<div id="44bb3813" class="cell" data-output-fold="true" data-execution_count="26">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1"></a><span class="ex">datalad</span> save <span class="at">-m</span> <span class="st">"Add notes on datalad create"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre>Total: 0.00 datasets [00:00, ? datasets/s]


Total:   0%|                                    | 0.00/92.0 [00:00&lt;?, ? Bytes/s]


                                                                                
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
                                                                                
<span class="ansi-bold">add</span>(<span class="ansi-green-fg ansi-bold">ok</span>): notes.txt (<span class="ansi-magenta-fg ansi-bold">file</span>)


Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
                                                                                
<span class="ansi-bold">save</span>(<span class="ansi-green-fg ansi-bold">ok</span>): . (<span class="ansi-magenta-fg ansi-bold">dataset</span>)


Total: 100%|███████████████████████████| 1.00/1.00 [00:00&lt;00:00, 114 datasets/s]
                                                                                
action summary:

  add (ok: 1)

  save (ok: 1)
</pre>
</div>
</div>
</details>
</div>
<p>Let’s now add another note to modify this file:</p>
<div id="03e73534" class="cell" data-output-fold="true" data-execution_count="27">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1"></a><span class="fu">cat</span> <span class="op">&lt;&lt; EOT</span> <span class="op">&gt;&gt;</span> notes.txt</span>
<span id="cb34-2"><a href="#cb34-2"></a><span class="st">The command "datalad save [-m] PATH" saves the file (modifications) to history.</span></span>
<span id="cb34-3"><a href="#cb34-3"></a><span class="st">Note to self: Always use informative and concise commit messages.</span></span>
<span id="cb34-4"><a href="#cb34-4"></a></span>
<span id="cb34-5"><a href="#cb34-5"></a><span class="op">EOT</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Notice the use of <code>&gt;&gt;</code> instead of <code>&gt;</code> in this command:</p>
<ul>
<li><code>&gt;</code> redirects output and <strong>overwrites</strong> the file (creates new file or replaces existing content)</li>
<li><code>&gt;&gt;</code> redirects output and <strong>appends</strong> to the file (adds content to the end of existing file)</li>
</ul>
<p>This demonstrates how you can modify existing files, which is common when working with documentation, code, or data analysis notes.</p>
<p>A <code>datalad status</code> command reports the file as not untracked. However, because it differs from the state it was saved under, it is reported as modified.</p>
<div id="c8dd3e6a" class="cell" data-output-fold="true" data-execution_count="28">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1"></a><span class="ex">datalad</span> status</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre> <span class="ansi-red-fg ansi-bold">modified</span>: notes.txt (<span class="ansi-magenta-fg ansi-bold">file</span>)
</pre>
</div>
</div>
</details>
</div>
<p>DataLad can detect when files have been modified since the last save. The status will now show <code>notes.txt</code> as “modified” rather than “untracked”. This means:</p>
<ul>
<li><strong>Untracked</strong>: File is new and hasn’t been added to version control</li>
<li><strong>Modified</strong>: File was previously saved but has changes since the last save</li>
<li><strong>Clean</strong>: No changes detected since last save</li>
</ul>
<p>Tracking these states helps you understand what changes need to be saved.</p>
<p>Let’s save this:</p>
<div id="49630eac" class="cell" data-output-fold="true" data-execution_count="29">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1"></a><span class="ex">datalad</span> save <span class="at">-m</span> <span class="st">"Add notes on datalad save"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre>Total: 0.00 datasets [00:00, ? datasets/s]


Total:   0%|                                     | 0.00/239 [00:00&lt;?, ? Bytes/s]


                                                                                
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
                                                                                
<span class="ansi-bold">add</span>(<span class="ansi-green-fg ansi-bold">ok</span>): notes.txt (<span class="ansi-magenta-fg ansi-bold">file</span>)


Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
                                                                                
<span class="ansi-bold">save</span>(<span class="ansi-green-fg ansi-bold">ok</span>): . (<span class="ansi-magenta-fg ansi-bold">dataset</span>)


Total: 100%|███████████████████████████| 1.00/1.00 [00:00&lt;00:00, 113 datasets/s]
                                                                                
action summary:

  add (ok: 1)

  save (ok: 1)
</pre>
</div>
</div>
</details>
</div>
<p>If you take a look at the history of this file with <code>git log</code>, the history neatly summarizes all of the changes that have been done:</p>
<div id="a21836da" class="cell" data-output-fold="true" data-execution_count="30">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1"></a><span class="fu">git</span> log <span class="at">-n</span> 2</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>commit cfbf73e56425df6daf7ad348de61e8a387fd483d (HEAD -&gt; master)
Author: Ford Escort &lt;42@H2G2.com&gt;
Date:   Thu Feb 5 23:46:05 2026 +0000

    Add notes on datalad save

commit 193d72516c1e34cfd564fad64947bc0e0321ab23
Author: Ford Escort &lt;42@H2G2.com&gt;
Date:   Thu Feb 5 23:46:04 2026 +0000

    Add notes on datalad create</code></pre>
</div>
</details>
</div>
<p>The <code>git log -n 2</code> command shows the last 2 commits in the repository history. This allows you to see how your dataset has evolved over time. Each commit includes:</p>
<ul>
<li><strong>Commit hash</strong>: A unique identifier for the commit</li>
<li><strong>Author and date</strong>: Who made the change and when</li>
<li><strong>Commit message</strong>: The description of what was changed</li>
</ul>
<p>This history is invaluable for understanding how your project developed and for collaborating with others.</p>
</section>
<section id="dataset-consumption" class="level2">
<h2 class="anchored" data-anchor-id="dataset-consumption">Dataset consumption</h2>
<p>DataLad lets you consume datasets provided by others, and collaborate with them. You can install existing datasets and update them from their sources, or create sibling datasets that you can publish updates to and pull updates from for collaboration and data sharing.</p>
<p><img src="https://handbook.datalad.org/en/latest/_images/collaboration.svg" style="width: 600px;"></p>
<p>To demonstrate this, let’s first create a new subdirectory to be organized:</p>
<div id="2089bd61" class="cell" data-output-fold="true" data-execution_count="31">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1"></a><span class="fu">mkdir</span> recordings</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Afterwards, let’s install an existing dataset, either from a path or a URL. The dataset we want to install in this example is hosted on GitHub, so we will provide its URL to the <code>datalad clone</code> command. We will also specify a path where we want it to be installed. Importantly, we are installing this dataset as a subdataset of <code>DataLad-101</code>, which means we will <em>nest</em> the two datasets inside each other. This is accomplished using the <code>--dataset</code> flag.</p>
<div id="75dfc9e1" class="cell" data-output-fold="true" data-execution_count="32">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1"></a><span class="ex">datalad</span> clone <span class="at">--dataset</span> . https://github.com/datalad-datasets/longnow-podcasts.git recordings/longnow</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre>Cloning:   0%|                             | 0.00/2.00 [00:00&lt;?, ? candidates/s]


Enumerating: 0.00 Objects [00:00, ? Objects/s]


                                              


Receiving:   0%|                             | 0.00/4.31k [00:00&lt;?, ? Objects/s]


Receiving:   7%|█▌                    | 302/4.31k [00:00&lt;00:01, 2.88k Objects/s]


Receiving:  20%|████▍                 | 862/4.31k [00:00&lt;00:00, 3.99k Objects/s]


                                                                                


Resolving:   0%|                                | 0.00/602 [00:00&lt;?, ? Deltas/s]


                                                                                
                                                                                
[INFO   ] Remote origin not usable by git-annex; setting annex-ignore 

[INFO   ] https://github.com/datalad-datasets/longnow-podcasts.git/config download failed: Not Found 

<span class="ansi-bold">install</span>(<span class="ansi-green-fg ansi-bold">ok</span>): recordings/longnow (<span class="ansi-magenta-fg ansi-bold">dataset</span>)


Total: 0.00 datasets [00:00, ? datasets/s]
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
                                                                                
<span class="ansi-bold">add</span>(<span class="ansi-green-fg ansi-bold">ok</span>): recordings/longnow (<span class="ansi-magenta-fg ansi-bold">dataset</span>)


Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]


Total:   0%|                                     | 0.00/175 [00:00&lt;?, ? Bytes/s]
                                                                                



                                                                                
<span class="ansi-bold">add</span>(<span class="ansi-green-fg ansi-bold">ok</span>): .gitmodules (<span class="ansi-magenta-fg ansi-bold">file</span>)


Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]


Total:   0%|                                     | 0.00/175 [00:00&lt;?, ? Bytes/s]


                                                                                
Total: 100%|██████████████████████████| 1.00/1.00 [00:00&lt;00:00, 6.21 datasets/s]
                                                                                
<span class="ansi-bold">save</span>(<span class="ansi-green-fg ansi-bold">ok</span>): . (<span class="ansi-magenta-fg ansi-bold">dataset</span>)


Total: 100%|██████████████████████████| 1.00/1.00 [00:00&lt;00:00, 6.20 datasets/s]
                                                                                

Total: 0.00 datasets [00:00, ? datasets/s]
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
                                                                                
<span class="ansi-bold">add</span>(<span class="ansi-green-fg ansi-bold">ok</span>): .gitmodules (<span class="ansi-magenta-fg ansi-bold">file</span>)


Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
                                                                                
<span class="ansi-bold">save</span>(<span class="ansi-green-fg ansi-bold">ok</span>): . (<span class="ansi-magenta-fg ansi-bold">dataset</span>)


Total: 100%|██████████████████████████| 1.00/1.00 [00:00&lt;00:00, 15.5 datasets/s]
                                                                                
action summary:

  add (ok: 3)

  install (ok: 1)

  save (ok: 2)
</pre>
</div>
</div>
</details>
</div>
<p>The <code>datalad clone</code> command downloads and installs an existing DataLad dataset:</p>
<ul>
<li><code>--dataset .</code> tells DataLad to register this as a subdataset of the current dataset (the <code>.</code> means current directory)</li>
<li>The GitHub URL is the source of the dataset we want to clone</li>
<li><code>recordings/longnow</code> is the local path where the dataset will be installed</li>
</ul>
<p><strong>Subdatasets</strong> are datasets contained within other datasets. This hierarchical structure allows you to:</p>
<ul>
<li>Modularize your project by keeping related data separate</li>
<li>Version control the relationship between datasets</li>
<li>Update subdatasets independently</li>
<li>Share and collaborate on different parts of a project separately</li>
</ul>
<p>There are new directories in the <code>DataLad-101</code> dataset. Within these new directories, there are hundreds of MP3 files.</p>
<div id="dad04ade" class="cell" data-output-fold="true" data-execution_count="33">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1"></a><span class="ex">tree</span> <span class="at">-d</span> <span class="co"># we limit the output of the tree command to directories</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>.
├── books
└── recordings
    └── longnow
        ├── Long_Now__Conversations_at_The_Interval
        └── Long_Now__Seminars_About_Long_term_Thinking

6 directories</code></pre>
</div>
</details>
</div>
<p>The <code>tree -d</code> command shows only directories (folders), not individual files. This is useful when you have many files and want to see just the organizational structure. Without the <code>-d</code> flag, the tree command would list all hundreds of MP3 files, which would be overwhelming. This gives us a clean view of how the podcast dataset is organized.</p>
<p>Let’s move into one of these directories and take a look at its contents:</p>
<div id="4737b7ce" class="cell" data-output-fold="true" data-execution_count="34">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1"></a><span class="bu">cd</span> recordings/longnow/Long_Now__Seminars_About_Long_term_Thinking</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="0eeacb6a" class="cell" data-output-fold="true" data-execution_count="35">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1"></a><span class="fu">ls</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>2003_11_15__Brian_Eno__The_Long_Now.mp3
2003_12_13__Peter_Schwartz__The_Art_Of_The_Really_Long_View.mp3
2004_01_10__George_Dyson__There_s_Plenty_of_Room_at_the_Top__Long_term_Thinking_About_Large_scale_Computing.mp3
2004_02_14__James_Dewar__Long_term_Policy_Analysis.mp3
2004_03_13__Rusty_Schweickart__The_Asteroid_Threat_Over_the_Next_100_000_Years.mp3
2004_04_10__Daniel_Janzen__Third_World_Conservation__It_s_ALL_Gardening.mp3
2004_05_15__David_Rumsey__Mapping_Time.mp3
2004_06_12__Bruce_Sterling__The_Singularity__Your_Future_as_a_Black_Hole.mp3
2004_07_10__Jill_Tarter__The_Search_for_Extra_terrestrial_Intelligence__Necessarily_a_Long_term_Strategy.mp3
2004_08_14__Phillip_Longman__The_Depopulation_Problem.mp3
2004_09_11__Danny_Hillis__Progress_on_the_10_000_year_Clock.mp3
2004_10_16__Paul_Hawken__The_Long_Green.mp3
2004_11_13__Michael_West__The_Prospects_of_Human_Life_Extension.mp3
2004_12_04__Ken_Dychtwald__The_Consequences_of_Human_Life_Extension.mp3
2005_01_15__James_Carse__Religious_War_In_Light_of_the_Infinite_Game.mp3
2005_02_26__Roger_Kennedy__The_Political_History_of_North_America_from_25_000_BC_to_12_000_AD.mp3
2005_03_12__Spencer_Beebe__Very_Long_term_Very_Large_scale_Biomimicry.mp3
2005_04_09__Stewart_Brand__Cities___Time.mp3
2005_06_11__Robert_Neuwirth__The_21st_Century_Medieval_City.mp3
2005_07_16__Jared_Diamond__How_Societies_Fail_And_Sometimes_Succeed.mp3
2005_08_13__Robert_Fuller__Patient_Revolution__Human_Rights_Past_and_Future.mp3
2005_09_24__Ray_Kurzweil__Kurzweil_s_Law.mp3
2005_10_06__Esther_Dyson__Freeman_Dyson__George_Dyson__The_Difficulty_of_Looking_Far_Ahead.mp3
2005_11_15__Clay_Shirky__Making_Digital_Durable__What_Time_Does_to_Categories.mp3
2005_12_10__Sam_Harris__The_View_from_the_End_of_the_World.mp3
2006_01_14__Ralph_Cavanagh__Peter_Schwartz__Nuclear_Power__Climate_Change_and_the_Next_10_000_Years.mp3
2006_02_14__Stephen_Lansing__Perfect_Order__A_Thousand_Years_in_Bali.mp3
2006_03_11__Kevin_Kelly__The_Next_100_Years_of_Science__Long_term_Trends_in_the_Scientific_Method..mp3
2006_04_15__Jimmy_Wales__Vision__Wikipedia_and_the_Future_of_Free_Culture.mp3
2006_05_13__Chris_Anderson__Will_Hearst__The_Long_Time_Tail.mp3
2006_06_27__Brian_Eno__Will_Wright__Playing_with_Time.mp3
2006_07_15__John_Rendon__Long_term_Policy_to_Make_the_War_on_Terror_Short.mp3
2006_09_23__Orville_Schell__China_Thinks_Long_term__But_Can_It_Relearn_to_Act_Long_term_.mp3
2006_10_14__John_Baez__Zooming_Out_in_Time.mp3
2006_11_04__Larry_Brilliant__Katherine_Fulton__Richard_Rockefeller__The_Deeper_News_About_the_New_Philanthropy.mp3
2006_12_01__Philip_Rosedale___Second_Life___What_Do_We_Learn_If_We_Digitize_EVERYTHING_.mp3
2007_01_27__Philip_Tetlock__Why_Foxes_Are_Better_Forecasters_Than_Hedgehogs.mp3
2007_02_16__Vernor_Vinge__What_If_the_Singularity_Does_NOT_Happen_.mp3
2007_03_10__Brian_Fagan__We_Are_Not_the_First_to_Suffer_Through_Climate_Change.mp3
2007_04_28__Frans_Lanting__Life_s_Journey_Through_Time.mp3
2007_05_12__Steven_Johnson__The_Long_Zoom.mp3
2007_06_09__Paul_Hawken__The_New_Great_Transformation.mp3
2007_06_29__Francis_Fukuyama___The_End_of_History__Revisited.mp3
2007_08_18__Alex_Wright__Glut__Mastering_Information_Though_the_Ages.mp3
2007_09_15__Rip_Anderson__Gwyneth_Cravens__Power_to_Save_the_World.mp3
2007_10_13__Juan_Enriquez__Mapping_the_Frontier_of_Knowledge.mp3
2007_11_10__Rosabeth_Moss_Kanter__Enduring_Principles_for_Changing_Times.mp3
2007_12_15__Joline_Blais__Jon_Ippolito__At_the_Edge_of_Art.mp3
2008_01_12__Paul_Saffo__Embracing_Uncertainty__the_secret_to_effective_forecasting.mp3
2008_02_05__Nassim_Nicholas_Taleb__The_Future_Has_Always_Been_Crazier_Than_We_Thought.mp3
2008_02_26__Craig_Venter__Joining_3.5_Billion_Years_of_Microbial_Invention.mp3
2008_04_29__Niall_Ferguson__Peter_Schwartz__Historian_vs._Futurist_on_Human_Progress.mp3
2008_05_22__Iqbal_Quadir__Technology_Empowers_the_Poorest.mp3
2008_06_28__Paul_Ehrlich__The_Dominant_Animal__Human_Evolution_and_the_Environment.mp3
2008_07_24__Edward_Burtynsky__The_10_000_year_Gallery.mp3
2008_08_09__Daniel_Suarez__Daemon__Bot_mediated_Reality.mp3
2008_09_09__Neal_Stephenson__ANATHEM_Book_Launch_Event.mp3
2008_09_13__Peter_Diamandis__Long_term_X_Prizes.mp3
2008_10_04__Huey_Johnson__Green_Planning_at_Nation_Scale.mp3
2008_11_18__Drew_Endy__Jim_Thomas__Synthetic_Biology_Debate.mp3
2008_12_20__Rick_Prelinger__Lost_Landscapes_of_San_Francisco.mp3
2009_01_17__Saul_Griffith__Climate_Change_Recalculated.mp3
2009_02_14__Dmitry_Orlov__Social_Collapse_Best_Practices.mp3
2009_03_21__Daniel_Everett__Endangered_languages__lost_knowledge_and_the_future.mp3
2009_04_09__Gavin_Newsom__Cities_and_Time.mp3
2009_05_06__Michael_Pollan__Deep_Agriculture.mp3
2009_05_19__Paul_Romer__A_Theory_of_History__with_an_Application.mp3
2009_07_29__Raoul_Adamchak__Pamela__Ronald__Organically_Grown_and_Genetically_Engineered__The_Food_of_the_Future.mp3
2009_08_18__Wayne_Clough__Smithsonian_Forever.mp3
2009_09_15__Arthur_Ganson__Machines_and_the_Breath_of_Time.mp3
2009_10_10__Stewart_Brand__Rethinking_Green.mp3
2009_11_19__Sander_van_der_Leeuw__The_Archaeology_of_Innovation.mp3
2009_12_05__Rick_Prelinger__Lost_Landscapes_of_San_Francisco_4.mp3
2010_01_14__Wade_Davis__The_Wayfinders__Why_Ancient_Wisdom_Matters_in_the_Modern_World.mp3
2010_02_01__Stewart_Brand__Brian_Eno__Alexander_Rose__Long_Finance__The_Enduring_Value_Conference.mp3
2010_02_25__Alan__Weisman__World_Without_Us__World_With_Us.mp3
2010_03_05__Beth__Noveck__Transparent_Government.mp3
2010_04_02__David__Eagleman__Six_Easy_Steps_to_Avert_the_Collapse_of_Civilization.mp3
2010_05_04__Nils_Gilman__Deviant_Globalization.mp3
2010_06_17__Ed_Moses__Clean_Fusion_Power_This_Decade.mp3
2010_07_13__Frank_Gavin__Five_Ways_to_Use_History_Well.mp3
2010_07_28__Jesse_Schell__Visions_of_the_Gamepocalypse.mp3
2010_08_03__Martin_Rees__Life_s_Future_in_the_Cosmos.mp3
2010_10_16__Emily_Levine__Jill_Tarter__Long_Conversation_4_of_19.mp3
2010_10_16__Jem_Finer__Saul_Griffith__Long_Conversation_2_of_19.mp3
2010_10_16__John_Perry_Barlow__Violet_Blue__Long_Conversation_7_of_19.mp3
2010_10_16__Robin_Sloan__Jill_Tarter__Long_Conversation_5_of_19.mp3
2010_10_16__Saul_Griffith__Emily_Levine__Long_Conversation_3_of_19.mp3
2010_10_16__Stewart_Brand__Jem_Finer__Long_Conversation_1_of_19.mp3
2010_10_16__Violet_Blue__Robin_Sloan__Long_Conversation_6_of_19.mp3
2010_10_17__Danese_Cooper__Peter_Schwartz__Long_Conversation_13_of_19.mp3
2010_10_17__Jane_McGonigal__Tiffany_Shlain__Long_Conversation_18_of_19.mp3
2010_10_17__John_Perry_Barlow__Ken_Wilson__Long_Conversation_8_of_19.mp3
2010_10_17__Katherine_Fulton__Paul_Hawken__Long_Conversation_16_of_19.mp3
2010_10_17__Ken_Foster__Pete_Worden__Long_Conversation_11_of_19.mp3
2010_10_17__Melissa_Alexander__Ken_Foster__Long_Conversation_10_of_19.mp3
2010_10_17__Melissa_Alexander__Ken_Wilson__Long_Conversation_9_of_19.mp3
2010_10_17__Paul_Hawken__Tiffany_Shlain__Long_Conversation_17_of_19.mp3
2010_10_17__Peter_Schwartz__Pete_Worden__Long_Conversation_12_of_19.mp3
2010_10_17__Stewart_Brand__Jane_McGonigal__Long_Conversation_19_of_19.mp3
2010_10_17__Stuart_Candy__Danese_Cooper__Long_Conversation_14_of_19.mp3
2010_10_17__Stuart_Candy__Katherine_Fulton__Long_Conversation_15_of_19.mp3
2010_10_27__Lera_Boroditsky__How_Language_Shapes_Thought.mp3
2010_11_16__Rachel_Sussman__The_World_s_Oldest_Living_Organisms.mp3
2010_12_17__Rick_Prelinger__Lost_Landscapes_of_San_Francisco__5.mp3
2011_01_19__Philip_K._Howard__Fixing_Broken_Government.mp3
2011_02_10__Mary_Catherine__Bateson__Live_Longer__Think_Longer.mp3
2011_03_23__Matt_Ridley__Deep_Optimism.mp3
2011_04_06__Alexander_Rose__Millennial_Precedent.mp3
2011_04_14__Ian_Morris__Why_the_West_Rules___For_Now.mp3
2011_05_04__Tim_Flannery__Here_on_Earth.mp3
2011_06_08__Carl_Zimmer__Viral_Time.mp3
2011_06_28__Peter_Kareiva__Conservation_in_the_Real_World.mp3
2011_07_26__Geoffrey_B.__West__Why_Cities_Keep_on_Growing__Corporations_Always_Die__and_Life_Gets_Faster.mp3
2011_09_15__Timothy__Ferriss__Accelerated_Learning_in_Accelerated_Times.mp3
2011_10_18__Laura_Cunningham__Ten_Millennia_of_California_Ecology.mp3
2011_12_01__Brewster_Kahle__Universal_Access_to_All_Knowledge.mp3
2011_12_09__Rick_Prelinger__Lost_Landscapes_of_San_Francisco__6.mp3
2012_01_18__Lawrence_Lessig__How_Money_Corrupts_Congress_and_a_Plan_to_Stop_It.mp3
2012_02_23__Jim_Richardson__Heirlooms__Saving_Humanity_s_10_000_year_Legacy_of_Food.mp3
2012_03_07__Mark_Lynas__The_Nine_Planetary_Boundaries__Finessing_the_Anthropocene.mp3
2012_04_21__Edward_O._Wilson__The_Social_Conquest_of_Earth.mp3
2012_04_24__Charles_C._Mann__Living_in_the_Homogenocene__The_First_500_Years.mp3
2012_05_23__Susan_Freinkel__Eternal_Plastic__A_Toxic_Love_Story.mp3
2012_06_06__Benjamin_Barber__If_Mayors_Ruled_the_World.mp3
2012_08_01__Cory_Doctorow__The_Coming_Century_of_War_Against_Your_Computer.mp3
2012_08_21__Elaine_Pagels__The_Truth_About_the_Book_of_Revelations.mp3
2012_09_06__Tim_O_Reilly__Birth_of_the_Global_Mind.mp3
2012_10_09__Steven_Pinker__The_Decline_of_Violence.mp3
2012_11_14__Lazar_Kunstmann__Jon_Lackman__Preservation_without_Permission__the_Paris_Urban_eXperiment.mp3
2012_11_29__Peter_Warshall__Enchanted_by_the_Sun__The_CoEvolution_of_Light__Life__and_Color_on_Earth.mp3
2013_01_18__Terry_Hunt__Carl_Lipo__The_Statues_Walked____What_Really_Happened_on_Easter_Island.mp3
2013_02_20__Chris_Anderson__The_Makers_Revolution.mp3
2013_03_20__George_Dyson__No_Time_Is_There____The_Digital_Universe_and_Why_Things_Appear_To_Be_Speeding_Up.mp3
2013_04_18__Nicholas_Negroponte__Beyond_Digital.mp3
2013_05_22__Stewart_Brand__Reviving_Extinct_Species.mp3
2013_06_19__Ed_Lu__Anthropocene_Astronomy__Thwarting_Dangerous_Asteroids_Begins_with_Finding_Them.mp3
2013_07_30__Craig_Childs__Apocalyptic_Planet__Field_Guide_to_the_Everending_Earth.mp3
2013_08_14__Daniel_Kahneman__Thinking_Fast_and_Slow.mp3
2013_09_18__Peter_Schwartz__The_Starships_ARE_Coming.mp3
2013_10_16__Adam_Steltzner__Beyond_Mars__Earth.mp3
2013_11_19__Richard_Kurin__American_History_in_101_Objects.mp3
2014_01_22__Brian_Eno__Danny_Hillis__The_Long_Now__now.mp3
2014_03_25__Mariana_Mazzucato__The_Entrepreneurial_State__Debunking_Private_vs._Public_Sector_Myths.mp3
2014_04_23__Tony_Hsieh__Helping_Revitalize_a_City.mp3
2014_05_21__Sylvia_Earle__Tierney_Thys__Oceanic.mp3
2014_06_11__Stefan_Kroepelin__Civilization_s_Mysterious_Desert_Cradle__Rediscovering_the_Deep_Sahara.mp3
2014_07_17__Adrian_Hon__A_History_of_the_Future_in_100_Objects.mp3
2014_08_07__Anne_Neuberger__Inside_the_NSA.mp3
2014_09_17__Drew_Endy__The_iGEM_Revolution.mp3
2014_10_21__Larry__Harvey__Why_The_Man_Keeps_Burning.mp3
2014_11_13__Kevin_Kelly__Technium_Unbound.mp3
2015_01_14__Jesse_Ausubel__Nature_is_Rebounding__Land__and_Ocean_sparing_through_Concentrating_Human_Activities_.mp3
2015_01_28__Stewart_Brand__Paul_Saffo__Pace_Layers_Thinking.mp3
2015_02_18__David_Keith__Patient_Geoengineering.mp3
2015_04_01__Paul_Saffo__The_Creator_Economy.mp3
2015_04_15__Michael_Shermer__The_Long_Arc_of_Moral_Progress.mp3
2015_05_12__Beth_Shapiro__How_to_Clone_a_Mammoth.mp3
2015_06_10__Neil_Gaiman__How_Stories_Last.mp3
2015_07_23__Ramez_Naam__Enhancing_Humans__Advancing_Humanity.mp3
2015_08_11__Sara_Seager__Other_Earths._Other_Life..mp3
2015_09_22__Saul_Griffith__Infrastructure_and_Climate_Change.mp3
2015_10_07__James_Fallows__Civilization_s_Infrastructure.mp3
2015_10_28__Andy_Weir__The_Red_Planet_for_Real.mp3
2015_11_24__Philip_Tetlock__Superforecasting.mp3
2016_01_12__Eric_Cline__1177_B.C.__When_Civilization_Collapsed.mp3
2016_02_10__Stephen_Pyne__Fire_Slow__Fire_Fast__Fire_Deep.mp3
2016_03_15__Jane_Langdale__Radical_Ag__C4_Rice_and_Beyond.mp3
2016_04_12__Priyamvada_Natarajan__Solving_Dark_Matter_and_Dark_Energy.mp3
2016_05_03__Walter_Mischel__The_Marshmallow_Test__Mastering_Self_Control.mp3
2016_06_21__Brian_Christian__Algorithms_to_Live_By.mp3
2016_07_15__Kevin_Kelly__The_Next_30_Digital_Years.mp3
2016_08_10__Seth_Lloyd__Quantum_Computer_Reality.mp3
2016_09_21__Jonathan_Rose__The_Well_Tempered_City.mp3
2016_10_05__David__Eagleman__The_Brain_and_The_Now.mp3
2016_11_02__Douglas_Coupland__The_Extreme_Present.mp3
2017_01_05__Steven_Johnson__Wonderland__How_Play_Made_the_Modern_World.mp3
2017_02_02__Jennifer_Pahlka__Fixing_Government__Bottom_Up_and_Outside_In.mp3
2017_03_14__Bjorn_Lomborg__From_Feel_Good_to_High_Yield_Good__How_to_Improve_Philanthropy_and_Aid.mp3
2017_04_11__Frank_Ostaseski__What_the_Dying_Teach_the_Living.mp3
2017_05_24__Geoffrey_B.__West__The_Universal_Laws_of_Growth_and_Pace.mp3
2017_06_06__James_Gleick__Time_Travel.mp3
2017_07_25__Carolyn_Porco__Searching_for_Life_in_the_Solar_System.mp3
2017_08_08__Nicky_Case__Seeing_Whole_Systems.mp3
2017_09_07__David_Grinspoon__Earth_in_Human_Hands.mp3
2017_10_31__Renee_Wegrzyn__Engineering_Gene_Safety.mp3
2017_11_21__Elena_Bennett__Seeds_of_a_Good_Anthropocene.mp3
2018_01_23__Charles_C._Mann__The_Wizard_and_the_Prophet.mp3
2018_02_27__Michael_Frachetti__Open_Source_Civilization_and_the_Unexpected_Origins_of_the_Silk_Road.mp3
2018_03_14__Steven_Pinker__A_New_Enlightenment.mp3
2018_04_24__Kishore_Mahbubani__Has_the_West_Lost_It__Can_Asia_Save_It_.mp3
2018_05_23__Benjamin_Grant__Overview__Earth_and_Civilization_in_the_Macroscope.mp3
2018_06_20__Chris_D._Thomas__Are_We_Initiating_The_Great_Anthropocene_Speciation_Event_.mp3
2018_07_17__George_P._Shultz__Perspective.mp3
2018_08_07__Juan_Benet__Long_Term_Info_structure.mp3
2018_09_13__Julia_Galef__Soldiers_and_Scouts__Why_our_minds_weren_t_built_for_truth__and_how_we_can_change_that.mp3
2018_10_14__Stewart_Brand__Whole_Earth_Catalog_50th_Anniversary_Celebration.mp3
2018_10_30__Mary_Lou_Jepsen__Toward_Practical_Telepathy.mp3
2018_11_20__Niall_Ferguson__Networks_and_Power.mp3
2019_01_15__Martin_Rees__Prospects_for_Humanity.mp3
2019_02_26__John_Brockman__Possible_Minds.mp3
2019_03_14__Chip_Conley__The_Modern_Elder_and_the_Intergenerational_Workplace.mp3
2019_04_03__Jeff_Goodell__The_Water_Will_Come.mp3
2019_05_05__Ian_McEwan__Machines_Like_Me.mp3
2019_06_05__David_Byrne__Good_News___Sleeping_Beauties.mp3
2019_06_25__Mariana_Mazzucato__Rethinking_Value.mp3</code></pre>
</div>
</details>
</div>
<section id="have-access-to-more-data-than-you-have-disk-space-get-and-drop" class="level3">
<h3 class="anchored" data-anchor-id="have-access-to-more-data-than-you-have-disk-space-get-and-drop">Have access to more data than you have disk space: <code>get</code> and <code>drop</code></h3>
<p>Here is a crucial and incredibly handy feature of DataLad datasets: After cloning, the dataset contains small files, such as the README, but larger files do not have any content yet. It only retrieved what we can simplistically refer to as file availability metadata, which is displayed as the file hierarchy in the dataset. While we can read the file names and determine what the dataset contains, we don’t have access to the file contents <em>yet</em>. If we were to try to play one of the recordings using the Python <code>Audio</code> functionality, this would fail.</p>
<div id="aa0a2543" class="cell" data-output-fold="true" data-execution_count="36">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1"></a><span class="co"># vlc --intf dummy --play-and-exit "2003_11_15__Brian_Eno__The_Long_Now.mp3"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>This might seem like curious behavior, but there are many advantages to it. One advantage is speed, and another is reduced disk usage. Here is the total size of this dataset:</p>
<div id="2bc9a137" class="cell" data-output-fold="true" data-execution_count="37">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1"></a><span class="bu">cd</span> ../</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="24525d10" class="cell" data-output-fold="true" data-execution_count="38">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1"></a><span class="fu">du</span> <span class="at">-sh</span>  <span class="co"># Unix command to show size of contents</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>3.7M    .</code></pre>
</div>
</details>
</div>
<p>The <code>du</code> command stands for “disk usage” and shows how much disk space files and directories use:</p>
<ul>
<li><code>-s</code> means “summarize” - show only the total for each directory</li>
<li><code>-h</code> means “human readable” - show sizes in KB, MB, GB instead of just bytes</li>
</ul>
<p>It is tiny! The dataset appears to be only a few MB despite containing hundreds of audio files. This is because DataLad has only downloaded the metadata and file information, not the actual audio content.</p>
<p>It is tiny! However, we can also find out how large the dataset would be if we had all of its contents by using <code>datalad status</code> with the <code>--annex</code> flag. In total, there are more than 15 GB of podcasts that you now have access to.</p>
<div id="257182e0" class="cell" data-output-fold="true" data-execution_count="39">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1"></a><span class="ex">datalad</span> status <span class="at">--annex</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>236 annex'd files (15.4 GB recorded total size)
nothing to save, working tree clean</code></pre>
</div>
</details>
</div>
<p>The <code>--annex</code> flag shows information about git-annex managed content:</p>
<ul>
<li><strong>Available content</strong>: What’s currently downloaded to your local machine</li>
<li><strong>Total size</strong>: The complete size of all files if they were all downloaded</li>
<li><strong>File counts</strong>: How many files are available vs.&nbsp;total</li>
</ul>
<p>This gives you a complete picture of the dataset’s scope without having to download everything upfront. This is one of DataLad’s key features: you can browse and understand large datasets without committing to downloading terabytes of data.</p>
<p>You can retrieve individual files, groups of files, directories, or entire datasets using the <code>datalad get</code> command. This command fetches the content for you.</p>
<div id="e9acc96e" class="cell" data-output-fold="true" data-execution_count="40">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1"></a><span class="ex">datalad</span> get Long_Now__Seminars_About_Long_term_Thinking/2003_11_15__Brian_Eno__The_Long_Now.mp3</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre>Total:   0%|                                   | 0.00/37.4M [00:00&lt;?, ? Bytes/s]


Get Long_Now .. Long_Now.mp3:   0%|            | 0.00/37.4M [00:00&lt;?, ? Bytes/s]


Get Long_Now .. Long_Now.mp3:  75%|███ | 28.1M/37.4M [00:00&lt;00:00, 141M Bytes/s]


                                                                                
                                                                                
<span class="ansi-bold">get</span>(<span class="ansi-green-fg ansi-bold">ok</span>): Long_Now__Seminars_About_Long_term_Thinking/2003_11_15__Brian_Eno__The_Long_Now.mp3 (<span class="ansi-magenta-fg ansi-bold">file</span>) [from web...]
</pre>
</div>
</div>
</details>
</div>
<p>The <code>datalad get</code> command downloads the actual content of files that are managed by git-annex. You can use it in several ways:</p>
<ul>
<li>Get a specific file: <code>datalad get path/to/file.pdf</code></li>
<li>Get multiple files: <code>datalad get file1.mp3 file2.mp3</code></li>
<li>Get an entire directory: <code>datalad get recordings/</code></li>
<li>Get with wildcards: <code>datalad get *.mp3</code></li>
</ul>
<p>DataLad will only download files that aren’t already present, saving time and bandwidth. This on-demand approach means you only download what you actually need to work with.</p>
<p>Content that is already present is not re-retrieved.</p>
<div id="c9dee1d7" class="cell" data-output-fold="true" data-execution_count="41">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb53-1"><a href="#cb53-1"></a><span class="ex">datalad</span> get Long_Now__Seminars_About_Long_term_Thinking/2003_11_15__Brian_Eno__The_Long_Now.mp3  <span class="dt">\L</span>ong_Now__Seminars_About_Long_term_Thinking/2003_12_13__Peter_Schwartz__The_Art_Of_The_Really_Long_View.mp3  <span class="dt">\L</span>ong_Now__Seminars_About_Long_term_Thinking/2004_01_10__George_Dyson__There_s_Plenty_of_Room_at_the_Top__Long_term_Thinking_About_Large_scale_Computing.mp3</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre>Total:   0%|                                    | 0.00/104M [00:00&lt;?, ? Bytes/s]


Get Long_Now .. omputing.mp3:   0%|            | 0.00/43.6M [00:00&lt;?, ? Bytes/s]


Get Long_Now .. omputing.mp3:   0%|    | 43.0k/43.6M [00:00&lt;02:23, 303k Bytes/s]


Get Long_Now .. omputing.mp3:   0%|     | 215k/43.6M [00:00&lt;00:52, 833k Bytes/s]


Get Long_Now .. omputing.mp3:   2%|    | 888k/43.6M [00:00&lt;00:15, 2.81M Bytes/s]


Get Long_Now .. omputing.mp3:  17%|▍  | 7.20M/43.6M [00:00&lt;00:02, 16.5M Bytes/s]


Get Long_Now .. omputing.mp3:  26%|▊  | 11.5M/43.6M [00:00&lt;00:01, 23.1M Bytes/s]


Get Long_Now .. omputing.mp3:  45%|█▎ | 19.6M/43.6M [00:00&lt;00:00, 34.4M Bytes/s]


Get Long_Now .. omputing.mp3:  64%|█▉ | 27.8M/43.6M [00:01&lt;00:00, 41.0M Bytes/s]


Get Long_Now .. omputing.mp3:  82%|██▍| 35.7M/43.6M [00:01&lt;00:00, 47.4M Bytes/s]


                                                                                
Total:  42%|███████████▎               | 43.6M/104M [00:02&lt;00:03, 20.0M Bytes/s]


Get Long_Now .. ong_View.mp3:   0%|            | 0.00/60.6M [00:00&lt;?, ? Bytes/s]


Get Long_Now .. ong_View.mp3:  38%|█▌  | 23.0M/60.6M [00:00&lt;00:00, 115M Bytes/s]


Get Long_Now .. ong_View.mp3:  61%|██▍ | 37.1M/60.6M [00:00&lt;00:00, 126M Bytes/s]


                                                                                
                                                                                
<span class="ansi-bold">get</span>(<span class="ansi-green-fg ansi-bold">ok</span>): Long_Now__Seminars_About_Long_term_Thinking/2004_01_10__George_Dyson__There_s_Plenty_of_Room_at_the_Top__Long_term_Thinking_About_Large_scale_Computing.mp3 (<span class="ansi-magenta-fg ansi-bold">file</span>) [from web...]

<span class="ansi-bold">get</span>(<span class="ansi-green-fg ansi-bold">ok</span>): Long_Now__Seminars_About_Long_term_Thinking/2003_12_13__Peter_Schwartz__The_Art_Of_The_Really_Long_View.mp3 (<span class="ansi-magenta-fg ansi-bold">file</span>) [from web...]

action summary:

  get (notneeded: 1, ok: 2)
</pre>
</div>
</div>
</details>
</div>
<p>This command demonstrates getting multiple files at once. The <code>\</code> at the end of each line is a line continuation character, allowing you to split a long command across multiple lines for readability. DataLad will:</p>
<ol type="1">
<li>Check which files are already present</li>
<li>Only download the files that aren’t available locally</li>
<li>Report on what was retrieved</li>
</ol>
<p>This smart behavior prevents unnecessary re-downloads and makes DataLad efficient for working with large datasets.</p>
<p>If you no longer need the data locally, you can drop the content from your dataset to save disk space.</p>
<div id="78b492e0" class="cell" data-output-fold="true" data-execution_count="42">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb54-1"><a href="#cb54-1"></a><span class="ex">datalad</span> drop Long_Now__Seminars_About_Long_term_Thinking/2003_12_13__Peter_Schwartz__The_Art_Of_The_Really_Long_View.mp3</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre><span class="ansi-bold">drop</span>(<span class="ansi-green-fg ansi-bold">ok</span>): Long_Now__Seminars_About_Long_term_Thinking/2003_12_13__Peter_Schwartz__The_Art_Of_The_Really_Long_View.mp3 (<span class="ansi-magenta-fg ansi-bold">file</span>)
</pre>
</div>
</div>
</details>
</div>
<p>The <code>datalad drop</code> command removes the content of files from your local storage while keeping the file metadata. This is useful for managing disk space when working with large datasets:</p>
<ul>
<li>The file still appears in your dataset</li>
<li>DataLad remembers where to get the content from</li>
<li>You can re-download it anytime with <code>datalad get</code></li>
<li>Only the actual file content is removed, not the file itself</li>
</ul>
<p>This allows you to keep a “skeleton” of large datasets locally while only downloading content when needed.</p>
<p>Afterwards, as long as DataLad knows where a file came from, its content can be retrieved again.</p>
<div id="4780e61f" class="cell" data-output-fold="true" data-execution_count="43">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1"></a><span class="ex">datalad</span> get Long_Now__Seminars_About_Long_term_Thinking/2003_12_13__Peter_Schwartz__The_Art_Of_The_Really_Long_View.mp3</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre>Total:   0%|                                   | 0.00/60.6M [00:00&lt;?, ? Bytes/s]


Get Long_Now .. ong_View.mp3:   0%|            | 0.00/60.6M [00:00&lt;?, ? Bytes/s]


Get Long_Now .. ong_View.mp3:  48%|█▉  | 28.9M/60.6M [00:00&lt;00:00, 145M Bytes/s]


                                                                                
                                                                                
<span class="ansi-bold">get</span>(<span class="ansi-green-fg ansi-bold">ok</span>): Long_Now__Seminars_About_Long_term_Thinking/2003_12_13__Peter_Schwartz__The_Art_Of_The_Really_Long_View.mp3 (<span class="ansi-magenta-fg ansi-bold">file</span>) [from web...]
</pre>
</div>
</div>
</details>
</div>
<p>This demonstrates the power of DataLad’s content tracking:</p>
<ul>
<li>DataLad maintains a record of where each file originated</li>
<li>Content can be retrieved from the original source even after being dropped</li>
<li>This enables efficient disk space management without losing access to data</li>
<li>The get/drop cycle can be repeated as many times as needed</li>
</ul>
<p>This feature is particularly valuable when working with large datasets on systems with limited storage.</p>
</section>
</section>
<section id="dataset-nesting" class="level2">
<h2 class="anchored" data-anchor-id="dataset-nesting">Dataset nesting</h2>
<p>Datasets can contain other datasets (subdatasets), nested arbitrarily deep. Each dataset has an independent revision history, but can be registered at a precise version in higher-level datasets. This allows you to combine datasets and to perform commands recursively across a hierarchy of datasets, and it is the basis for advanced provenance capture abilities. This allows you to combine datasets and perform commands recursively across a hierarchy of datasets, and it is the basis for advanced provenance capture abilities.</p>
<p><img src="https://handbook.datalad.org/en/latest/_images/linkage_subds.svg" style="width: 600px;"></p>
<p>Let’s take a look at the history of the <code>longnow</code> subdataset. We can see that it has preserved its history completely. This means that the data we retrieved retains all of its provenance.</p>
<div id="c492522b" class="cell" data-output-fold="true" data-execution_count="44">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1"></a><span class="fu">git</span> log <span class="at">--reverse</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>commit 8df130bb825f99135c34b8bf0cbedb1b05edd581
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Mon Jul 16 16:08:23 2018 +0200

    [DATALAD] Set default backend for all files to be MD5E

commit 3d0dc8f5e9e4032784bc5a08d243995ad5cf92f9
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Mon Jul 16 16:08:24 2018 +0200

    [DATALAD] new dataset

commit b81bdea645d83c2ddef360faddafd0a778d03e1a
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Mon Jul 16 17:03:21 2018 +0200

    Import SALT feed

commit 9f3127fad2dbb3848d8d9a0ff85e6a151a47b50f
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Mon Jul 16 17:18:10 2018 +0200

    Import Interval feed

commit a052af9c059a82f36ee20ec708252568767ed067
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Mon Jul 16 17:30:47 2018 +0200

    Include publication date in the filename

commit ff007135c3c290c24ebdb2b3f1459236a25f7410
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Fri Dec 14 18:58:03 2018 +0100

    Update from feed
    
    Via: git annex importfeed --template '${feedtitle}/${itempubdate}__${itemtitle}${extension}' --force http://longnow.org/projects/seminars/SALT.xml

commit 7f36dea615f0fe117aed74a04ad325aacc714111
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Fri Dec 14 19:00:08 2018 +0100

    Update from feed
    
    Via: git annex importfeed --template '${feedtitle}/${itempubdate}__${itemtitle}${extension}' --force http://longnow.org/projects/seminars/interval.xml

commit 21d92907c1d05b246ea5eee805ac00c91366ae04
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Wed Jul 10 09:41:13 2019 +0200

    [DATALAD RUNCMD] Update Interval seminar series
    
    === Do not change lines below ===
    {
     "chain": [],
     "cmd": "git annex importfeed --template '${{feedtitle}}/${{itempubdate}}__${{itemtitle}}${{extension}}' --force http://longnow.org/projects/seminars/interval.xml",
     "dsid": "b3ca2718-8901-11e8-99aa-a0369f7c647e",
     "exit": 0,
     "extra_inputs": [],
     "inputs": [],
     "outputs": [],
     "pwd": "."
    }
    ^^^ Do not change lines above ^^^

commit e1bf31e3e91d97944b17c678036183e1d08d1598
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Wed Jul 10 09:43:02 2019 +0200

    [DATALAD RUNCMD] Update SALT series
    
    === Do not change lines below ===
    {
     "chain": [],
     "cmd": "git annex importfeed --template '${{feedtitle}}/${{itempubdate}}__${{itemtitle}}${{extension}}' --force http://longnow.org/projects/seminars/SALT.xml",
     "dsid": "b3ca2718-8901-11e8-99aa-a0369f7c647e",
     "exit": 0,
     "extra_inputs": [],
     "inputs": [],
     "outputs": [],
     "pwd": "."
    }
    ^^^ Do not change lines above ^^^

commit e64d00f3c00309ec35cc360011563cdba474978a
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Thu Jul 11 18:37:01 2019 +0200

    Prepare for addition of RSS feed metadata on episodes

commit f0831b9c00b6fd11359321aa6bb9e2c58557961f
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Thu Jul 11 18:42:08 2019 +0200

    Script to convert the RSS feed metadata into JSON-LD metadata
    
    For consumption by the `custom` metadata extractor

commit 9bece59fbd606290a124bbf9a3dc3218e4b7612e
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Thu Jul 11 18:48:51 2019 +0200

    Add duration to the metadata

commit ead809e901232746e89ab3c1ecacef4fcb0e6f49
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Thu Jul 11 19:18:30 2019 +0200

    Be resilient with different delimiters

commit 979bd25bd55538ff6f5efd1c780fc3bdc30c7701
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Thu Jul 11 19:19:04 2019 +0200

    Single update maintainer script

commit 3e96466a522e36c1cbe70cf577a322917b5961e9
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Thu Jul 11 19:23:56 2019 +0200

    More diff-able

commit 61f46fca4bc9b19e9e812353e3cf75a9edc7e694
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Thu Jul 11 19:27:50 2019 +0200

    Add base dataset metadata

commit 740fa141299f852d37dbb3dd58f964c0df4c8fd3
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Thu Jul 11 19:28:23 2019 +0200

    [DATALAD RUNCMD] Update from feed
    
    === Do not change lines below ===
    {
     "chain": [],
     "cmd": ".datalad/maint/update.sh",
     "dsid": "b3ca2718-8901-11e8-99aa-a0369f7c647e",
     "exit": 0,
     "extra_inputs": [],
     "inputs": [],
     "outputs": [],
     "pwd": "."
    }
    ^^^ Do not change lines above ^^^

commit 39226e9f8a9a11df3c8e86ca360f80f4c3a236e9
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Thu Jul 11 19:35:10 2019 +0200

    Update aggregated metadata

commit 0553111de6eb48deabd3efeee070cb7e070702aa
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Fri Jul 12 12:36:53 2019 +0200

    content removed from git annex

commit b9c517e007437677f1e0d54395a7852960a57918
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Fri Jul 12 12:37:16 2019 +0200

    Make sure extracted metadata is directly in Git
    
    to avoid the need for separate hosting

commit 5dd77723418c5c25bf49a29d55e8db273dd39217
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Fri Jul 12 12:38:16 2019 +0200

    Manually place extracted metadata in Git

commit 75d7f3fde28f63d14c506cfdd4bbf5e4854d83ec
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Mon Jul 15 07:10:28 2019 +0200

    Rename metadata directory

commit 1a396a641473ea95441c42891cf8dffdde837503
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Mon Jul 15 07:19:22 2019 +0200

    Prepare to annex big feed logos

commit 8053eed2a84780369cf156e3f856fbe57c0f688e
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Mon Jul 15 07:20:06 2019 +0200

    Add annexed feed logos

commit 80310175aa64035d0a18248cb882586d2e6ea394
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Mon Jul 15 07:50:44 2019 +0200

    Consolidate all metadata-related files under .datalad
    
    This prevents such content from being intermingled with the
    "intentional" dataset components.

commit 997e07abf57669dcf818bffdc819fa92eddf5659
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Mon Jul 15 07:51:50 2019 +0200

    Update aggregated metadata

commit 43fdea19c2f87c70c3317c8886d4701b8acfe708
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Mon Jul 15 09:57:35 2019 +0200

    Add script to generate a README from DataLad metadata

commit 4b37790cd97f03a7807f82f20497218dc18898d0
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Mon Jul 15 10:03:27 2019 +0200

    Fix README generator to parse correct directory

commit e8296151fa2d1592791c8882a1c10c00c523267c
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Mon Jul 15 10:10:27 2019 +0200

    Link to the handbook as a source of wisdom

commit 7ee3ded7f0c18dc767fc32c850b57a03fcb792b9
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Mon Jul 15 10:22:06 2019 +0200

    Sort episodes newest-first

commit 004e484d05a93c6ca46438ffe7878f8e3d53312e
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Mon Jul 15 10:22:38 2019 +0200

    [DATALAD RUNCMD] .datalad/maint/make_readme.py
    
    === Do not change lines below ===
    {
     "chain": [],
     "cmd": ".datalad/maint/make_readme.py",
     "dsid": "b3ca2718-8901-11e8-99aa-a0369f7c647e",
     "exit": 0,
     "extra_inputs": [],
     "inputs": [
      ".datalad/maint/README.md.in"
     ],
     "outputs": [
      "README.md"
     ],
     "pwd": "."
    }
    ^^^ Do not change lines above ^^^

commit bafdc041eac093760faa7cab3ca6196da99a39d9
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Mon Jul 15 12:45:36 2019 +0200

    Uniformize JSON-LD context with DataLad's internal extractors
    
    This makes it easier to merge documents for a joint report.

commit 36a30a1a1d8725658410b650d516d9d3c640427d
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Mon Jul 15 12:59:27 2019 +0200

    [DATALAD RUNCMD] Update from feed
    
    === Do not change lines below ===
    {
     "chain": [
      "740fa141299f852d37dbb3dd58f964c0df4c8fd3"
     ],
     "cmd": ".datalad/maint/update.sh",
     "dsid": "b3ca2718-8901-11e8-99aa-a0369f7c647e",
     "exit": 0,
     "extra_inputs": [],
     "inputs": [],
     "outputs": [],
     "pwd": "."
    }
    ^^^ Do not change lines above ^^^

commit dcc34fbe669b06ced84ced381ba0db21cf5e665f (HEAD -&gt; master, origin/master, origin/HEAD)
Author: Michael Hanke &lt;michael.hanke@gmail.com&gt;
Date:   Mon Jul 15 13:06:52 2019 +0200

    Update aggregated metadata</code></pre>
</div>
</details>
</div>
<p>The <code>git log --reverse</code> command shows the commit history in reverse chronological order (oldest first). This is useful to see how a repository evolved from its beginning. Key points about subdataset history:</p>
<ul>
<li><strong>Complete history</strong>: The subdataset retains its full development history</li>
<li><strong>Provenance</strong>: You can trace exactly how the data was created and modified</li>
<li><strong>Independent versioning</strong>: The subdataset has its own version history separate from the parent dataset</li>
<li><strong>Transparency</strong>: You can see who contributed what and when</li>
</ul>
<p>This preserved history is crucial for reproducible research and data transparency. How does this look in the top-level dataset? If we query the history of <code>DataLad-101</code>, there will be no commits related to MP3 files or any of the commits we have seen in the subdataset. Instead, we can see that the superdataset recorded the <code>recordings/longnow</code> dataset as a subdataset. This means it recorded where this dataset came from and what version it is in.</p>
<div id="a888ba89" class="cell" data-output-fold="true" data-execution_count="45">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb58-1"><a href="#cb58-1"></a><span class="bu">cd</span> ../../</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="6be7ca6c" class="cell" data-output-fold="true" data-execution_count="46">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb59-1"><a href="#cb59-1"></a><span class="fu">git</span> log <span class="at">-n</span> 1</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>commit 19b36103f934b2c51584f140d662eba12dcea44b (HEAD -&gt; master)
Author: Ford Escort &lt;42@H2G2.com&gt;
Date:   Thu Feb 5 23:46:07 2026 +0000

    [DATALAD] Added subdataset</code></pre>
</div>
</details>
</div>
<p>This demonstrates an important concept in DataLad dataset nesting:</p>
<ul>
<li><strong>Parent dataset</strong>: Records subdatasets as references, not their full content</li>
<li><strong>Version pinning</strong>: The parent dataset tracks exactly which version of the subdataset is being used</li>
<li><strong>Separation of concerns</strong>: Each dataset maintains its own history independently</li>
<li><strong>Reproducibility</strong>: You can recreate the exact same combination of datasets later</li>
</ul>
<p>This approach allows for modular project organization while maintaining precise version control.</p>
<p>The subproject commit registered the most recent commit of the subdataset, and thus the subdataset version:</p>
<div id="157fc52c" class="cell" data-output-fold="true" data-execution_count="47">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb61-1"><a href="#cb61-1"></a><span class="bu">cd</span> recordings/longnow</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="dcfa56f9" class="cell" data-output-fold="true" data-execution_count="48">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb62-1"><a href="#cb62-1"></a><span class="fu">git</span> log <span class="at">--oneline</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>dcc34fb (HEAD -&gt; master, origin/master, origin/HEAD) Update aggregated metadata
36a30a1 [DATALAD RUNCMD] Update from feed
bafdc04 Uniformize JSON-LD context with DataLad's internal extractors
004e484 [DATALAD RUNCMD] .datalad/maint/make_readme.py
7ee3ded Sort episodes newest-first
e829615 Link to the handbook as a source of wisdom
4b37790 Fix README generator to parse correct directory
43fdea1 Add script to generate a README from DataLad metadata
997e07a Update aggregated metadata
8031017 Consolidate all metadata-related files under .datalad
8053eed Add annexed feed logos
1a396a6 Prepare to annex big feed logos
75d7f3f Rename metadata directory
5dd7772 Manually place extracted metadata in Git
b9c517e Make sure extracted metadata is directly in Git
0553111 content removed from git annex
39226e9 Update aggregated metadata
740fa14 [DATALAD RUNCMD] Update from feed
61f46fc Add base dataset metadata
3e96466 More diff-able
979bd25 Single update maintainer script
ead809e Be resilient with different delimiters
9bece59 Add duration to the metadata
f0831b9 Script to convert the RSS feed metadata into JSON-LD metadata
e64d00f Prepare for addition of RSS feed metadata on episodes
e1bf31e [DATALAD RUNCMD] Update SALT series
21d9290 [DATALAD RUNCMD] Update Interval seminar series
7f36dea Update from feed
ff00713 Update from feed
a052af9 Include publication date in the filename
9f3127f Import Interval feed
b81bdea Import SALT feed
3d0dc8f [DATALAD] new dataset
8df130b [DATALAD] Set default backend for all files to be MD5E</code></pre>
</div>
</details>
</div>
<p>The <code>git log --oneline</code> command shows a condensed view of the commit history:</p>
<ul>
<li>Each commit is shown on one line</li>
<li>Shows the short commit hash (first 7 characters)</li>
<li>Shows only the commit message (no author, date, etc.)</li>
</ul>
<p>This format is useful when you want a quick overview of what changes have been made without the full details. The commit hash displayed here is what the parent dataset uses to track which specific version of the subdataset is being used.</p>
<div id="7e00c812" class="cell" data-output-fold="true" data-execution_count="49">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb64-1"><a href="#cb64-1"></a><span class="bu">cd</span> ../../</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="more-on-data-versioning-nesting-and-a-glimpse-into-reproducible-paper" class="level2">
<h2 class="anchored" data-anchor-id="more-on-data-versioning-nesting-and-a-glimpse-into-reproducible-paper">More on data versioning, nesting, and a glimpse into reproducible paper</h2>
<p>We’ll clone a repository for a <a href="https://doi.org/10.3758/s13428-020-01428-x">paper</a> that <a href="https://github.com/psychoinformatics-de/paper-remodnav/">shares manuscript, code, and data</a>:</p>
<div id="4aaa587f" class="cell" data-output-fold="true" data-execution_count="50">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb65-1"><a href="#cb65-1"></a><span class="bu">cd</span> ../</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="38adbfbb" class="cell" data-output-fold="true" data-execution_count="51">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb66-1"><a href="#cb66-1"></a><span class="ex">datalad</span> clone https://github.com/psychoinformatics-de/paper-remodnav.git</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre>Cloning:   0%|                             | 0.00/2.00 [00:00&lt;?, ? candidates/s]


Enumerating: 0.00 Objects [00:00, ? Objects/s]


                                              


Counting:   0%|                                | 0.00/802 [00:00&lt;?, ? Objects/s]


                                                                                


Compressing:   0%|                             | 0.00/375 [00:00&lt;?, ? Objects/s]


                                                                                


Receiving:   0%|                             | 0.00/2.11k [00:00&lt;?, ? Objects/s]


Receiving:  18%|███▉                  | 380/2.11k [00:00&lt;00:00, 3.63k Objects/s]


Receiving:  36%|███████▉              | 760/2.11k [00:00&lt;00:00, 1.68k Objects/s]


Receiving:  53%|██████████▌         | 1.12k/2.11k [00:00&lt;00:00, 2.17k Objects/s]


                                                                                


Resolving:   0%|                              | 0.00/1.09k [00:00&lt;?, ? Deltas/s]


                                                                                
                                                                                
[INFO   ] Remote origin not usable by git-annex; setting annex-ignore 

[INFO   ] https://github.com/psychoinformatics-de/paper-remodnav.git/config download failed: Not Found 

<span class="ansi-bold">install</span>(<span class="ansi-green-fg ansi-bold">ok</span>): /app/paper-remodnav (<span class="ansi-magenta-fg ansi-bold">dataset</span>)
</pre>
</div>
</div>
</details>
</div>
<p>The top-level dataset has many subdatasets. One of them, <code>remodnav</code>, is a dataset that contains the source code for a Python package called <code>remodnav</code> used in eye-tracking analyses:</p>
<div id="695bde0b" class="cell" data-output-fold="true" data-execution_count="52">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb67-1"><a href="#cb67-1"></a><span class="bu">cd</span> paper-remodnav</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="9a4aa60e" class="cell" data-output-fold="true" data-execution_count="53">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb68-1"><a href="#cb68-1"></a><span class="ex">datalad</span> subdatasets</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre><span class="ansi-bold">subdataset</span>(<span class="ansi-green-fg ansi-bold">ok</span>): data/raw_eyegaze (<span class="ansi-magenta-fg ansi-bold">dataset</span>)

<span class="ansi-bold">subdataset</span>(<span class="ansi-green-fg ansi-bold">ok</span>): data/studyforrest-data-eyemovementlabels (<span class="ansi-magenta-fg ansi-bold">dataset</span>)

<span class="ansi-bold">subdataset</span>(<span class="ansi-green-fg ansi-bold">ok</span>): remodnav (<span class="ansi-magenta-fg ansi-bold">dataset</span>)
</pre>
</div>
</div>
</details>
</div>
<p>The <code>datalad subdatasets</code> command lists all subdatasets contained within the current dataset. For each subdataset, it shows:</p>
<ul>
<li><strong>Path</strong>: Where the subdataset is located within the parent dataset</li>
<li><strong>URL</strong>: The source location of the subdataset</li>
<li><strong>Status</strong>: Whether it’s installed or just registered</li>
</ul>
<p>This gives you a complete overview of the dataset’s modular structure and dependencies. Complex research projects often involve multiple datasets, and this command helps you understand the relationships between them.</p>
<p>After cloning a dataset, its subdatasets will be recognized, but just as content is not yet retrieved for files in datasets, the subdatasets of datasets are not yet installed. If we navigate into an uninstalled subdataset, it will appear as an empty directory.</p>
<div id="e3cc3387" class="cell" data-output-fold="true" data-execution_count="54">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb69-1"><a href="#cb69-1"></a><span class="bu">cd</span> remodnav</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="d241f22e" class="cell" data-output-fold="true" data-execution_count="55">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb70-1"><a href="#cb70-1"></a><span class="fu">ls</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>In order to install a subdataset, we use <code>datalad get</code> with the <code>--recursive</code> flag:</p>
<div id="cd06987b" class="cell" data-output-fold="true" data-execution_count="56">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb71-1"><a href="#cb71-1"></a><span class="ex">datalad</span> get <span class="at">--recursive</span> <span class="at">--recursion-limit</span> 2 <span class="at">-n</span> .</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre>Cloning:   0%|                             | 0.00/4.00 [00:00&lt;?, ? candidates/s]


Enumerating: 0.00 Objects [00:00, ? Objects/s]


                                              


Counting:   0%|                                | 0.00/106 [00:00&lt;?, ? Objects/s]


                                                                                


Compressing:   0%|                            | 0.00/26.0 [00:00&lt;?, ? Objects/s]


                                                                                


Receiving:   0%|                               | 0.00/443 [00:00&lt;?, ? Objects/s]


                                                                                


Resolving:   0%|                                | 0.00/244 [00:00&lt;?, ? Deltas/s]


                                                                                
                                                                                
[INFO   ] Reset branch 'master' to d2891183 (from 5e0dffeb) to avoid a detached HEAD 

<span class="ansi-bold">install</span>(<span class="ansi-green-fg ansi-bold">ok</span>): /app/paper-remodnav/remodnav (<span class="ansi-magenta-fg ansi-bold">dataset</span>) [Installed subdataset in order to get /app/paper-remodnav/remodnav]

[INFO   ] Ensuring presence of Dataset(/app/paper-remodnav) to get /app/paper-remodnav/remodnav 


Installing: 0.00 datasets [00:00, ? datasets/s]
Installing:   0%|                            | 0.00/1.00 [00:00&lt;?, ? datasets/s]
Installing:   0%|                            | 0.00/1.00 [00:00&lt;?, ? datasets/s]


Cloning:   0%|                             | 0.00/4.00 [00:00&lt;?, ? candidates/s]




Enumerating: 0.00 Objects [00:00, ? Objects/s]




                                              




Counting:   0%|                               | 0.00/18.0 [00:00&lt;?, ? Objects/s]




                                                                                




Compressing:   0%|                            | 0.00/16.0 [00:00&lt;?, ? Objects/s]




                                                                                




Receiving:   0%|                               | 0.00/197 [00:00&lt;?, ? Objects/s]




Receiving:   7%|█▊                       | 14.0/197 [00:00&lt;00:01, 122 Objects/s]




Receiving:  14%|███▎                    | 27.0/197 [00:05&lt;00:37, 4.48 Objects/s]




Receiving:  31%|███████▌                | 62.0/197 [00:05&lt;00:09, 13.9 Objects/s]




Receiving:  40%|█████████▌              | 79.0/197 [00:05&lt;00:06, 19.4 Objects/s]




Receiving:  48%|███████████▌            | 95.0/197 [00:05&lt;00:03, 26.3 Objects/s]




Receiving:  66%|████████████████▌        | 131/197 [00:05&lt;00:01, 48.0 Objects/s]




Receiving:  77%|███████████████████▎     | 152/197 [00:06&lt;00:00, 46.1 Objects/s]




                                                                                




Resolving:   0%|                               | 0.00/16.0 [00:00&lt;?, ? Deltas/s]




                                                                                


                                                                                
                                                                                
[INFO   ] Reset branch 'master' to 0e6f8270 (from 3e12416a) to avoid a detached HEAD 


Installing (1 skipped): 100%|█████████| 1.00/1.00 [00:07&lt;00:00, 7.10s/ datasets]


Cloning:   0%|                             | 0.00/4.00 [00:00&lt;?, ? candidates/s]
Installing (1 skipped):   0%|                | 0.00/3.00 [00:00&lt;?, ? datasets/s]
Installing (1 skipped):  33%|██▋     | 1.00/3.00 [00:00&lt;00:00, 6.50k datasets/s]
                                                                                



                                                                                
<span class="ansi-bold">install</span>(<span class="ansi-green-fg ansi-bold">ok</span>): /app/paper-remodnav/remodnav/remodnav/tests/data/anderson_etal (<span class="ansi-magenta-fg ansi-bold">dataset</span>)


Installing (1 skipped):  67%|█████▎  | 2.00/3.00 [00:00&lt;00:00, 3.18k datasets/s]


Cloning:  25%|█████▌                | 1.00/4.00 [00:00&lt;00:00, 44.5 candidates/s]




Enumerating: 0.00 Objects [00:00, ? Objects/s]




                                              




Counting:   0%|                              | 0.00/7.96k [00:00&lt;?, ? Objects/s]




                                                                                




Compressing:   0%|                           | 0.00/6.78k [00:00&lt;?, ? Objects/s]




                                                                                




Receiving:   0%|                             | 0.00/54.8k [00:00&lt;?, ? Objects/s]




Receiving:   2%|▍                   | 1.10k/54.8k [00:00&lt;00:05, 8.96k Objects/s]




Receiving:  11%|██▏                 | 6.03k/54.8k [00:00&lt;00:01, 29.0k Objects/s]




Receiving:  52%|██████████▉          | 28.5k/54.8k [00:00&lt;00:00, 111k Objects/s]




                                                                                




Resolving:   0%|                              | 0.00/4.32k [00:00&lt;?, ? Deltas/s]




                                                                                


                                                                                
                                                                                
[INFO   ] Remote origin not usable by git-annex; setting annex-ignore 


Installing (1 skipped):  67%|██████   | 2.00/3.00 [00:01&lt;00:00, 1.19 datasets/s]
                                                                                
[INFO   ] https://github.com/psychoinformatics-de/studyforrest-data-phase2.git/config download failed: Not Found 


Installing (1 skipped):  67%|██████   | 2.00/3.00 [00:01&lt;00:00, 1.18 datasets/s]
                                                                                
[INFO   ] RIA store unavailable. -caused by- Failed to access http://studyforrest.ds.inm7.de/ria-layout-version -caused by- Failed to access http://studyforrest.ds.inm7.de/ria-layout-version -caused by- Failed to establish a new session 1 times.  -caused by- HTTPConnectionPool(host='studyforrest.ds.inm7.de', port=80): Max retries exceeded with url: /ria-layout-version (Caused by NameResolutionError("HTTPConnection(host='studyforrest.ds.inm7.de', port=80): Failed to resolve 'studyforrest.ds.inm7.de' ([Errno -2] Name or service not known)")) 


Installing (1 skipped):  67%|██████   | 2.00/3.00 [00:02&lt;00:01, 1.15s/ datasets]
                                                                                
[INFO   ] Reset branch 'master' to a6623bff (from 01ed4601) to avoid a detached HEAD 


Installing (1 skipped):  67%|██████   | 2.00/3.00 [00:03&lt;00:01, 1.99s/ datasets]
Installing (1 skipped): 100%|█████████| 3.00/3.00 [00:04&lt;00:00, 1.34s/ datasets]
                                                                                
<span class="ansi-bold">install</span>(<span class="ansi-green-fg ansi-bold">ok</span>): /app/paper-remodnav/remodnav/remodnav/tests/data/studyforrest (<span class="ansi-magenta-fg ansi-bold">dataset</span>)


Installing (1 skipped): 100%|█████████| 3.00/3.00 [00:04&lt;00:00, 1.34s/ datasets]
                                                                                
action summary:

  install (ok: 3)
</pre>
</div>
</div>
</details>
</div>
<p>This command demonstrates several advanced DataLad options:</p>
<ul>
<li><code>--recursive</code>: Operates on subdatasets as well as the current dataset</li>
<li><code>--recursion-limit 2</code>: Limits how deep the recursion goes (prevents going too deep in nested structures)</li>
<li><code>-n</code>: “No data” mode - installs subdatasets without downloading their actual content</li>
<li><code>.</code>: Operates on the current directory</li>
</ul>
<p>This approach is useful when you want to explore the structure of a complex project without downloading potentially large amounts of data upfront. You get access to all the metadata and organization without the storage burden.</p>
<div id="82bd30ba" class="cell" data-output-fold="true" data-execution_count="57">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb72-1"><a href="#cb72-1"></a><span class="fu">ls</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>CHANGELOG.md  LICENSE   README.md  remodnav        setup.py
CONTRIBUTORS  Makefile  eval       requirements-devel.txt</code></pre>
</div>
</details>
</div>
<p>This command not only retrieves file contents, but it also installs subdatasets. So, if you want to be really lazy, just run <code>datalad get --recursive -n</code> in the root of a dataset to install all available subdatasets. The <code>-n</code> option prevents <code>get</code> from downloading any data, so only the subdatasets are installed without any data being downloaded. Here, the depth of recursion is limited. For one, it would take a while to install all subdatasets, but the very raw eye-tracking dataset contains subject IDs that should not be shared. Therefore, this subdataset is not accessible. If you try to install all subdatasets, the source eye-tracking data will throw an error, because it is not made publicly available.</p>
<p>This demonstrates important concepts in data management:</p>
<ul>
<li><strong>Privacy and ethics</strong>: Some data cannot be publicly shared due to privacy concerns</li>
<li><strong>Selective access</strong>: DataLad can handle mixed public/private data scenarios</li>
<li><strong>Efficient exploration</strong>: You can survey large project structures without downloading everything</li>
<li><strong>Graceful failure</strong>: DataLad will continue processing available datasets even if some are inaccessible</li>
</ul>
<p>The “lazy” approach (installing structure without data) is often the best way to start exploring unfamiliar datasets.</p>
<p>Afterwards, you can see that the <code>remodnav</code> subdataset also contains further subdatasets. In this case, these subdatasets contain data used for testing and validating software performance.</p>
<div id="580f6485" class="cell" data-output-fold="true" data-execution_count="58">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb74-1"><a href="#cb74-1"></a><span class="ex">datalad</span> subdatasets</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre><span class="ansi-bold">subdataset</span>(<span class="ansi-green-fg ansi-bold">ok</span>): remodnav/tests/data/anderson_etal (<span class="ansi-magenta-fg ansi-bold">dataset</span>)

<span class="ansi-bold">subdataset</span>(<span class="ansi-green-fg ansi-bold">ok</span>): remodnav/tests/data/studyforrest (<span class="ansi-magenta-fg ansi-bold">dataset</span>)
</pre>
</div>
</div>
</details>
</div>
<p>One of the validation data subdatasets came from another lab that shared their data. After the researchers were almost finished with their paper, they found another paper that reported a mistake in this data. The mistake was still present in the data they were using. By inspecting the history of this dataset, you can see that at one point, they contributed a fix that changed the data.</p>
<div id="c2e4ad39" class="cell" data-output-fold="true" data-execution_count="59">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb75-1"><a href="#cb75-1"></a><span class="bu">cd</span> remodnav/tests/data/anderson_etal</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="2b03e639" class="cell" data-output-fold="true" data-execution_count="60">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb76-1"><a href="#cb76-1"></a><span class="fu">git</span> log <span class="at">-n</span> 3</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>commit 0e6f82708e10b48039763aa1078696e802260674 (HEAD -&gt; master)
Merge: c6d0253 b950b59
Author: Richard Andersson &lt;richardandersson@users.noreply.github.com&gt;
Date:   Fri Mar 8 12:38:45 2019 +0100

    Merge pull request #3 from AdinaWagner/datafix
    
    ENH/FIX: relabel erroneous saccades to fixations.

commit b950b59fecfd1bb17f47b143589d94547cb6f9ac
Author: Adina Wagner &lt;adina.wagner@t-online.de&gt;
Date:   Fri Mar 8 11:35:47 2019 +0100

    ENH/FIX: relabel erroneous saccades to fixations, closes #2.
    
    As reported in: http://sci-hub.tw/https://link.springer.com/article/10.3758/s13428-018-1133-5

commit c6d02539712d12d7bea96912521a43cb84e7a7b8
Author: Richard Andersson &lt;richardandersson@users.noreply.github.com&gt;
Date:   Wed Dec 5 15:27:50 2018 +0100

    Uploaded a folder consting only of the data used in the original article</code></pre>
</div>
</details>
</div>
<p>This example illustrates several important aspects of scientific data management:</p>
<ul>
<li><strong>Data errors happen</strong>: Even published data can contain mistakes</li>
<li><strong>Version control helps</strong>: You can track exactly when and how data was corrected</li>
<li><strong>Transparency</strong>: The fix is documented and visible in the history</li>
<li><strong>Collaboration</strong>: Researchers can contribute improvements to shared datasets</li>
<li><strong>Impact assessment</strong>: You can see exactly what changed between versions</li>
</ul>
<p>The ability to track and correct data errors while maintaining complete provenance is crucial for scientific reproducibility.</p>
<p>Because DataLad can link subdatasets to precise versions, it is possible to consciously decide and openly record which version of the data is used. It is also possible to test how much results change by resetting the subdataset to an earlier state or updating the dataset to a more recent version.</p>
</section>
<section id="full-provenance-capture-and-reproducibility" class="level2">
<h2 class="anchored" data-anchor-id="full-provenance-capture-and-reproducibility">Full provenance capture and reproducibility</h2>
<p>DataLad allows you to capture full provenance (i.e., a record that describes entities and processes that were involved in producing or influencing a digital resource): The origin of datasets, the origin of files obtained from web sources, complete machine-readable and automatically reproducible records of how files were created (including software environments). You or your collaborators can thus re-obtain or reproducibly recompute content with a single command, and make use of extensive provenance of dataset content (who created it, when, and how?).</p>
<p><img src="https://handbook.datalad.org/en/latest/_images/reproducible_execution.svg" style="width: 600px;"></p>
<div id="782b89f6" class="cell" data-output-fold="true" data-execution_count="61">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb78-1"><a href="#cb78-1"></a><span class="bu">cd</span> ../../../../../../</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>First, create a new dataset, in this case with the <code>yoda</code> configuration:</p>
<div id="595d9129" class="cell" data-output-fold="true" data-execution_count="62">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb79-1"><a href="#cb79-1"></a><span class="ex">datalad</span> create <span class="at">-c</span> yoda myanalysis</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre>[INFO   ] Running procedure cfg_yoda 

[INFO   ] == Command start (output follows) ===== 


Total: 0.00 datasets [00:00, ? datasets/s]


Total:   0%|                                     | 0.00/510 [00:00&lt;?, ? Bytes/s]


                                                                                
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
Total: 100%|██████████████████████████| 1.00/1.00 [00:00&lt;00:00, 7.80 datasets/s]
                                                                                
[INFO   ] == Command exit (modification check follows) ===== 

<span class="ansi-bold">run</span>(<span class="ansi-green-fg ansi-bold">ok</span>): /app/myanalysis (<span class="ansi-magenta-fg ansi-bold">dataset</span>) [/app/.venv/bin/python /app/.venv/lib/pyt...]

<span class="ansi-bold">create</span>(<span class="ansi-green-fg ansi-bold">ok</span>): /app/myanalysis (<span class="ansi-magenta-fg ansi-bold">dataset</span>)

action summary:

  create (ok: 1)

  run (ok: 1)
</pre>
</div>
</div>
</details>
</div>
<p>The <code>yoda</code> configuration sets up a dataset following the <strong>YODA principles</strong> (YODA = “YODa’s Organigram on Data Analyses”):</p>
<ul>
<li><strong>Structured organization</strong>: Creates a logical directory structure for data analysis projects</li>
<li><strong>Separation of concerns</strong>: Keeps code, data, and outputs in separate locations</li>
<li><strong>Reproducibility</strong>: Establishes conventions that support reproducible research</li>
<li><strong>Best practices</strong>: Applies proven configurations for data analysis workflows</li>
</ul>
<p>This configuration is specifically designed for data analysis projects and provides a standardized way to organize research.</p>
<p>This sets up a helpful structure for the dataset with a code directory and some README files, and applies helpful configurations:</p>
<div id="38afdc90" class="cell" data-output-fold="true" data-execution_count="63">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb80-1"><a href="#cb80-1"></a><span class="bu">cd</span> myanalysis</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="d82fb6fa" class="cell" data-output-fold="true" data-execution_count="64">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb81-1"><a href="#cb81-1"></a><span class="ex">tree</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>.
├── CHANGELOG.md
├── README.md
└── code
    └── README.md

2 directories, 3 files</code></pre>
</div>
</details>
</div>
<p>The YODA configuration creates several key directories and files:</p>
<ul>
<li><strong><code>code/</code></strong>: Where you store your analysis scripts and source code</li>
<li><strong><code>README.md</code></strong>: Documentation for your project</li>
<li><strong><code>.datalad/</code></strong>: DataLad configuration and metadata (hidden directory)</li>
<li><strong>Configuration settings</strong>: Optimized for typical data analysis workflows</li>
</ul>
<p>This structure follows research data management best practices:</p>
<ul>
<li>Clear separation between code and data</li>
<li>Documentation is prominently placed</li>
<li>Ready for immediate use in data analysis projects</li>
</ul>
<p>Read more about the YODA principles and the YODA configuration in the <a href="https://handbook.datalad.org/en/latest/basics/101-127-yoda.html">section on YODA</a> in the DataLad Handbook.</p>
<p>Next, install the input data as a subdataset. For this, the DataLad developers created a <a href="https://github.com/datalad-handbook/iris_data.git">DataLad dataset</a> with the <a href="https://en.wikipedia.org/wiki/Iris_flower_data_set">“iris” data</a> and published it on GitHub. Here, we’re installing it into a directory named <code>input</code>.</p>
<div id="0ee4d93d" class="cell" data-output-fold="true" data-execution_count="65">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb83-1"><a href="#cb83-1"></a><span class="ex">datalad</span> clone <span class="at">-d</span> . https://github.com/datalad-handbook/iris_data.git input/</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre>Cloning:   0%|                             | 0.00/2.00 [00:00&lt;?, ? candidates/s]


Enumerating: 0.00 Objects [00:00, ? Objects/s]


                                              


Counting:   0%|                               | 0.00/25.0 [00:00&lt;?, ? Objects/s]


                                                                                


Compressing:   0%|                            | 0.00/19.0 [00:00&lt;?, ? Objects/s]


                                                                                


Receiving:   0%|                              | 0.00/25.0 [00:00&lt;?, ? Objects/s]


                                                                                


Resolving:   0%|                               | 0.00/3.00 [00:00&lt;?, ? Deltas/s]


                                                                                
                                                                                
[INFO   ] Remote origin not usable by git-annex; setting annex-ignore 

[INFO   ] https://github.com/datalad-handbook/iris_data.git/config download failed: Not Found 

<span class="ansi-bold">install</span>(<span class="ansi-green-fg ansi-bold">ok</span>): input (<span class="ansi-magenta-fg ansi-bold">dataset</span>)


Total: 0.00 datasets [00:00, ? datasets/s]
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
                                                                                
<span class="ansi-bold">add</span>(<span class="ansi-green-fg ansi-bold">ok</span>): input (<span class="ansi-magenta-fg ansi-bold">dataset</span>)


Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]


Total:   0%|                                     | 0.00/142 [00:00&lt;?, ? Bytes/s]
                                                                                



                                                                                
<span class="ansi-bold">add</span>(<span class="ansi-green-fg ansi-bold">ok</span>): .gitmodules (<span class="ansi-magenta-fg ansi-bold">file</span>)


Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]


Total:   0%|                                     | 0.00/142 [00:00&lt;?, ? Bytes/s]


                                                                                
Total: 100%|██████████████████████████| 1.00/1.00 [00:00&lt;00:00, 6.22 datasets/s]
                                                                                
<span class="ansi-bold">save</span>(<span class="ansi-green-fg ansi-bold">ok</span>): . (<span class="ansi-magenta-fg ansi-bold">dataset</span>)


Total: 100%|██████████████████████████| 1.00/1.00 [00:00&lt;00:00, 6.20 datasets/s]
                                                                                

Total: 0.00 datasets [00:00, ? datasets/s]
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
                                                                                
<span class="ansi-bold">add</span>(<span class="ansi-green-fg ansi-bold">ok</span>): .gitmodules (<span class="ansi-magenta-fg ansi-bold">file</span>)


Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
                                                                                
<span class="ansi-bold">save</span>(<span class="ansi-green-fg ansi-bold">ok</span>): . (<span class="ansi-magenta-fg ansi-bold">dataset</span>)


Total: 100%|██████████████████████████| 1.00/1.00 [00:00&lt;00:00, 15.5 datasets/s]
                                                                                
action summary:

  add (ok: 3)

  install (ok: 1)

  save (ok: 2)
</pre>
</div>
</div>
</details>
</div>
<p>This command demonstrates a key YODA principle - <strong>input data should be separate from your analysis code</strong>: - <code>datalad clone -d .</code> installs the dataset as a subdataset of the current dataset - The iris dataset is a classic machine learning dataset (flower measurements) - Installing as <code>input/</code> clearly identifies this as input data for the analysis - The data remains linked to its original source for provenance tracking</p>
<p>By organizing data this way, you maintain clear boundaries between: - <strong>Input data</strong>: What you’re analyzing (should not be modified) - <strong>Code</strong>: How you’re analyzing it - <strong>Results</strong>: What you discover (generated by your analysis)</p>
<p>The last thing needed is code to run on the data and produce results. For this, here is a k-means classification analysis script written in Python. You can find more details about this analysis in the <a href="https://handbook.datalad.org/en/latest/basics/101-130-yodaproject.html">section on a YODA-compliant data analysis project</a>.</p>
<div id="77fb1bc8" class="cell" data-output-fold="true" data-execution_count="66">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb84-1"><a href="#cb84-1"></a><span class="fu">cat</span> <span class="op">&lt;&lt; EOT</span> <span class="op">&gt;</span> code/script.py</span>
<span id="cb84-2"><a href="#cb84-2"></a></span>
<span id="cb84-3"><a href="#cb84-3"></a><span class="st">import pandas as pd</span></span>
<span id="cb84-4"><a href="#cb84-4"></a><span class="st">import seaborn as sns</span></span>
<span id="cb84-5"><a href="#cb84-5"></a><span class="st">import datalad.api as dl</span></span>
<span id="cb84-6"><a href="#cb84-6"></a><span class="st">from sklearn import model_selection</span></span>
<span id="cb84-7"><a href="#cb84-7"></a><span class="st">from sklearn.neighbors import KNeighborsClassifier</span></span>
<span id="cb84-8"><a href="#cb84-8"></a><span class="st">from sklearn.metrics import classification_report</span></span>
<span id="cb84-9"><a href="#cb84-9"></a></span>
<span id="cb84-10"><a href="#cb84-10"></a><span class="st">data = "input/iris.csv"</span></span>
<span id="cb84-11"><a href="#cb84-11"></a></span>
<span id="cb84-12"><a href="#cb84-12"></a><span class="st"># make sure that the data are obtained (get will also install linked sub-ds!):</span></span>
<span id="cb84-13"><a href="#cb84-13"></a><span class="st">dl.get(data)</span></span>
<span id="cb84-14"><a href="#cb84-14"></a></span>
<span id="cb84-15"><a href="#cb84-15"></a><span class="st"># prepare the data as a pandas dataframe</span></span>
<span id="cb84-16"><a href="#cb84-16"></a><span class="st">df = pd.read_csv(data)</span></span>
<span id="cb84-17"><a href="#cb84-17"></a><span class="st">attributes = ["sepal_length", "sepal_width", "petal_length","petal_width", "class"]</span></span>
<span id="cb84-18"><a href="#cb84-18"></a><span class="st">df.columns = attributes</span></span>
<span id="cb84-19"><a href="#cb84-19"></a></span>
<span id="cb84-20"><a href="#cb84-20"></a><span class="st"># create a pairplot to plot pairwise relationships in the dataset</span></span>
<span id="cb84-21"><a href="#cb84-21"></a><span class="st">plot = sns.pairplot(df, hue='class', palette='muted')</span></span>
<span id="cb84-22"><a href="#cb84-22"></a><span class="st">plot.savefig('pairwise_relationships.png')</span></span>
<span id="cb84-23"><a href="#cb84-23"></a></span>
<span id="cb84-24"><a href="#cb84-24"></a><span class="st"># perform a K-nearest-neighbours classification with scikit-learn</span></span>
<span id="cb84-25"><a href="#cb84-25"></a><span class="st"># Step 1: split data in test and training dataset (20:80)</span></span>
<span id="cb84-26"><a href="#cb84-26"></a><span class="st">array = df.values</span></span>
<span id="cb84-27"><a href="#cb84-27"></a><span class="st">X = array[:,0:4]</span></span>
<span id="cb84-28"><a href="#cb84-28"></a><span class="st">Y = array[:,4]</span></span>
<span id="cb84-29"><a href="#cb84-29"></a><span class="st">test_size = 0.20</span></span>
<span id="cb84-30"><a href="#cb84-30"></a><span class="st">seed = 7</span></span>
<span id="cb84-31"><a href="#cb84-31"></a><span class="st">X_train, X_test, Y_train, Y_test = model_selection.train_test_split(X, Y,</span></span>
<span id="cb84-32"><a href="#cb84-32"></a><span class="st">                                                                    test_size=test_size,</span></span>
<span id="cb84-33"><a href="#cb84-33"></a><span class="st">                                                                    random_state=seed)</span></span>
<span id="cb84-34"><a href="#cb84-34"></a><span class="st"># Step 2: Fit the model and make predictions on the test dataset</span></span>
<span id="cb84-35"><a href="#cb84-35"></a><span class="st">knn = KNeighborsClassifier()</span></span>
<span id="cb84-36"><a href="#cb84-36"></a><span class="st">knn.fit(X_train, Y_train)</span></span>
<span id="cb84-37"><a href="#cb84-37"></a><span class="st">predictions = knn.predict(X_test)</span></span>
<span id="cb84-38"><a href="#cb84-38"></a></span>
<span id="cb84-39"><a href="#cb84-39"></a><span class="st"># Step 3: Save the classification report</span></span>
<span id="cb84-40"><a href="#cb84-40"></a><span class="st">report = classification_report(Y_test, predictions, output_dict=True)</span></span>
<span id="cb84-41"><a href="#cb84-41"></a><span class="st">df_report = pd.DataFrame(report).transpose().to_csv('prediction_report.csv')</span></span>
<span id="cb84-42"><a href="#cb84-42"></a></span>
<span id="cb84-43"><a href="#cb84-43"></a><span class="op">EOT</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>So far the script is untracked:</p>
<div id="729b21b6" class="cell" data-output-fold="true" data-execution_count="67">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb85-1"><a href="#cb85-1"></a><span class="ex">datalad</span> status</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg ansi-bold">untracked</span>: code/script.py (<span class="ansi-magenta-fg ansi-bold">file</span>)
</pre>
</div>
</div>
</details>
</div>
<p>Let’s save it with a <code>datalad save</code> command:</p>
<div id="d37eb010" class="cell" data-output-fold="true" data-execution_count="68">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb86-1"><a href="#cb86-1"></a><span class="ex">datalad</span> save <span class="at">-m</span> <span class="st">"Add script for kNN classification and plotting"</span> code/script.py</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre>Total: 0.00 datasets [00:00, ? datasets/s]


Total:   0%|                                   | 0.00/1.46k [00:00&lt;?, ? Bytes/s]


                                                                                
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
                                                                                
<span class="ansi-bold">add</span>(<span class="ansi-green-fg ansi-bold">ok</span>): code/script.py (<span class="ansi-magenta-fg ansi-bold">file</span>)


Total:   0%|                                 | 0.00/1.00 [00:00&lt;?, ? datasets/s]
                                                                                
<span class="ansi-bold">save</span>(<span class="ansi-green-fg ansi-bold">ok</span>): . (<span class="ansi-magenta-fg ansi-bold">dataset</span>)


Total: 100%|██████████████████████████| 1.00/1.00 [00:00&lt;00:00, 30.7 datasets/s]
                                                                                
action summary:

  add (ok: 1)

  save (ok: 1)
</pre>
</div>
</div>
</details>
</div>
<section id="datalad-run" class="level3">
<h3 class="anchored" data-anchor-id="datalad-run"><code>datalad run</code></h3>
<p>The challenge that DataLad helps accomplish is running this script in a way that links the script to the results it produces and the data it was computed from. We can do this with the <code>datalad run</code> command. In principle, it is simple. You start with a clean dataset:</p>
<div id="9b48a2a5" class="cell" data-output-fold="true" data-execution_count="69">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb87-1"><a href="#cb87-1"></a><span class="ex">datalad</span> status</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>nothing to save, working tree clean</code></pre>
</div>
</details>
</div>
<p>Then, give the command you would execute with <code>datalad run</code>, in this case <code>python code/script.py</code>. DataLad will take the command, run it, and save all of the changes in the dataset under the commit message specified with the <code>-m</code> option. Thus, it associates the script with the results.</p>
<p>But it can be even more helpful. Here, we also specify the input data that the command needs, and DataLad will retrieve the data beforehand. We also specify the output of the command. Specifying the outputs will allow us to rerun the command later and update any outdated results.</p>
<div id="81b4d756" class="cell" data-output-fold="true" data-execution_count="70">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb89-1"><a href="#cb89-1"></a><span class="ex">datalad</span> run <span class="at">-m</span> <span class="st">"Analyze iris data with classification analysis"</span> <span class="dt">\</span></span>
<span id="cb89-2"><a href="#cb89-2"></a>--input <span class="st">"input/iris.csv"</span> <span class="dt">\</span></span>
<span id="cb89-3"><a href="#cb89-3"></a>--output <span class="st">"prediction_report.csv"</span> <span class="dt">\</span></span>
<span id="cb89-4"><a href="#cb89-4"></a>--output <span class="st">"pairwise_relationships.png"</span> <span class="dt">\</span></span>
<span id="cb89-5"><a href="#cb89-5"></a><span class="st">"python3 code/script.py"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre>[INFO   ] Making sure inputs are available (this may take some time) 


Total:   0%|                                   | 0.00/3.98k [00:00&lt;?, ? Bytes/s]


Get iris.csv:   0%|                            | 0.00/3.98k [00:00&lt;?, ? Bytes/s]


                                                                                
                                                                                
<span class="ansi-bold">get</span>(<span class="ansi-green-fg ansi-bold">ok</span>): input/iris.csv (<span class="ansi-magenta-fg ansi-bold">file</span>) [from web...]

[INFO   ] == Command start (output follows) ===== 

action summary:

  get (notneeded: 2)

[INFO   ] == Command exit (modification check follows) ===== 

<span class="ansi-bold">run</span>(<span class="ansi-green-fg ansi-bold">ok</span>): /app/myanalysis (<span class="ansi-magenta-fg ansi-bold">dataset</span>) [python3 code/script.py]


Total: 0.00 datasets [00:00, ? datasets/s]
Total:   0%|                                 | 0.00/2.00 [00:00&lt;?, ? datasets/s]
Total:   0%|                                 | 0.00/2.00 [00:00&lt;?, ? datasets/s]


Total:   0%|                                    | 0.00/261k [00:00&lt;?, ? Bytes/s]


                                                                                
                                                                                
<span class="ansi-bold">add</span>(<span class="ansi-green-fg ansi-bold">ok</span>): pairwise_relationships.png (<span class="ansi-magenta-fg ansi-bold">file</span>)


Total (1 skipped):  50%|███████       | 1.00/2.00 [00:00&lt;00:00, 7.78 datasets/s]
                                                                                
<span class="ansi-bold">add</span>(<span class="ansi-green-fg ansi-bold">ok</span>): prediction_report.csv (<span class="ansi-magenta-fg ansi-bold">file</span>)


Total (1 skipped):  50%|███████       | 1.00/2.00 [00:00&lt;00:00, 7.76 datasets/s]
Total (1 skipped): 100%|██████████████| 2.00/2.00 [00:00&lt;00:00, 15.5 datasets/s]
                                                                                
<span class="ansi-bold">save</span>(<span class="ansi-green-fg ansi-bold">ok</span>): . (<span class="ansi-magenta-fg ansi-bold">dataset</span>)


Total (1 skipped): 100%|██████████████| 2.00/2.00 [00:00&lt;00:00, 15.5 datasets/s]
                                                                                
</pre>
</div>
</div>
</details>
</div>
<p>The <code>datalad run</code> command is a powerful tool for <strong>reproducible computational workflows</strong>:</p>
<p><strong>Core features:</strong></p>
<ul>
<li><strong>Command execution</strong>: Runs your specified command</li>
<li><strong>Input tracking</strong>: Records what data the command uses (<code>--input</code>)</li>
<li><strong>Output tracking</strong>: Records what files the command produces (<code>--output</code>)</li>
<li><strong>Automatic saving</strong>: Commits all changes with the provided message</li>
<li><strong>Provenance recording</strong>: Creates a machine-readable record of the entire process</li>
</ul>
<p><strong>Why this matters:</strong></p>
<ul>
<li><strong>Reproducibility</strong>: Others can see exactly how results were generated</li>
<li><strong>Dependency tracking</strong>: DataLad knows what data is needed to recreate results</li>
<li><strong>Change detection</strong>: Can identify when inputs change and outputs need updating</li>
<li><strong>Automation</strong>: The entire analysis becomes repeatable with a single command</li>
</ul>
<p>DataLad creates a commit in the dataset history. This commit includes the commit message as a human-readable summary of what was done. It contains the produced output, and it has a machine-readable record that includes information on the input data, the results, and the command that was run to create this result.</p>
<div id="c9a3999a" class="cell" data-output-fold="true" data-execution_count="71">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb90-1"><a href="#cb90-1"></a><span class="fu">git</span> log <span class="at">-n</span> 1</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>commit dea89e58d2d88095cbf9d4590fa721ff5442d423 (HEAD -&gt; master)
Author: Ford Escort &lt;42@H2G2.com&gt;
Date:   Thu Feb 5 23:46:48 2026 +0000

    [DATALAD RUNCMD] Analyze iris data with classification analysis
    
    === Do not change lines below ===
    {
     "chain": [],
     "cmd": "python3 code/script.py",
     "dsid": "64bff19e-02c0-46cb-b513-45faff0e2e2b",
     "exit": 0,
     "extra_inputs": [],
     "inputs": [
      "input/iris.csv"
     ],
     "outputs": [
      "prediction_report.csv",
      "pairwise_relationships.png"
     ],
     "pwd": "."
    }
    ^^^ Do not change lines above ^^^</code></pre>
</div>
</details>
</div>
<p>This commit contains several types of information:</p>
<p><strong>Human-readable:</strong> - <strong>Commit message</strong>: Describes what analysis was performed - <strong>Changed files</strong>: Shows what outputs were generated - <strong>Author and timestamp</strong>: Who ran the analysis and when</p>
<p><strong>Machine-readable provenance:</strong> - <strong>Exact command</strong>: The complete command that was executed - <strong>Input dependencies</strong>: Which files were used as inputs - <strong>Output products</strong>: Which files were generated - <strong>Environment information</strong>: Details about the computational environment</p>
<p>This rich metadata enables both humans and computers to understand exactly how results were produced.</p>
</section>
<section id="datalad-rerun" class="level3">
<h3 class="anchored" data-anchor-id="datalad-rerun"><code>datalad rerun</code></h3>
<p>This machine-readable record is particularly helpful, because we can now instruct DataLad to <em>rerun</em> this command. This means we don’t have to memorize what we did, and people that we share the dataset with don’t need to ask how this result was produced. They can simply let DataLad tell them.</p>
<p>This is accomplished with the <code>datalad rerun</code> command. For this demonstration, we have prepared this analysis dataset and published it to GitHub at https://github.com/lnnrtwttkhn/datalad-tutorial-myanalysis.</p>
<div id="2359c7f3" class="cell" data-output-fold="true" data-execution_count="72">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb92-1"><a href="#cb92-1"></a><span class="bu">cd</span> ../</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="1096efc2" class="cell" data-output-fold="true" data-execution_count="73">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb93-1"><a href="#cb93-1"></a><span class="fu">git</span> clone https://github.com/lnnrtwttkhn/datalad-tutorial-myanalysis analysis_clone</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>Cloning into 'analysis_clone'...
remote: Enumerating objects: 37, done.        
remote: Counting objects:   2% (1/37)        remote: Counting objects:   5% (2/37)        remote: Counting objects:   8% (3/37)        remote: Counting objects:  10% (4/37)        remote: Counting objects:  13% (5/37)        remote: Counting objects:  16% (6/37)        remote: Counting objects:  18% (7/37)        remote: Counting objects:  21% (8/37)        remote: Counting objects:  24% (9/37)        remote: Counting objects:  27% (10/37)        remote: Counting objects:  29% (11/37)        remote: Counting objects:  32% (12/37)        remote: Counting objects:  35% (13/37)        remote: Counting objects:  37% (14/37)        remote: Counting objects:  40% (15/37)        remote: Counting objects:  43% (16/37)        remote: Counting objects:  45% (17/37)        remote: Counting objects:  48% (18/37)        remote: Counting objects:  51% (19/37)        remote: Counting objects:  54% (20/37)        remote: Counting objects:  56% (21/37)        remote: Counting objects:  59% (22/37)        remote: Counting objects:  62% (23/37)        remote: Counting objects:  64% (24/37)        remote: Counting objects:  67% (25/37)        remote: Counting objects:  70% (26/37)        remote: Counting objects:  72% (27/37)        remote: Counting objects:  75% (28/37)        remote: Counting objects:  78% (29/37)        remote: Counting objects:  81% (30/37)        remote: Counting objects:  83% (31/37)        remote: Counting objects:  86% (32/37)        remote: Counting objects:  89% (33/37)        remote: Counting objects:  91% (34/37)        remote: Counting objects:  94% (35/37)        remote: Counting objects:  97% (36/37)        remote: Counting objects: 100% (37/37)        remote: Counting objects: 100% (37/37), done.        
remote: Compressing objects:   4% (1/24)        remote: Compressing objects:   8% (2/24)        remote: Compressing objects:  12% (3/24)        remote: Compressing objects:  16% (4/24)        remote: Compressing objects:  20% (5/24)        remote: Compressing objects:  25% (6/24)        remote: Compressing objects:  29% (7/24)        remote: Compressing objects:  33% (8/24)        remote: Compressing objects:  37% (9/24)        remote: Compressing objects:  41% (10/24)        remote: Compressing objects:  45% (11/24)        remote: Compressing objects:  50% (12/24)        remote: Compressing objects:  54% (13/24)        remote: Compressing objects:  58% (14/24)        remote: Compressing objects:  62% (15/24)        remote: Compressing objects:  66% (16/24)        remote: Compressing objects:  70% (17/24)        remote: Compressing objects:  75% (18/24)        remote: Compressing objects:  79% (19/24)        remote: Compressing objects:  83% (20/24)        remote: Compressing objects:  87% (21/24)        remote: Compressing objects:  91% (22/24)        remote: Compressing objects:  95% (23/24)        remote: Compressing objects: 100% (24/24)        remote: Compressing objects: 100% (24/24), done.        
remote: Total 37 (delta 6), reused 37 (delta 6), pack-reused 0 (from 0)        
Receiving objects:   2% (1/37)Receiving objects:   5% (2/37)Receiving objects:   8% (3/37)Receiving objects:  10% (4/37)Receiving objects:  13% (5/37)Receiving objects:  16% (6/37)Receiving objects:  18% (7/37)Receiving objects:  21% (8/37)Receiving objects:  24% (9/37)Receiving objects:  27% (10/37)Receiving objects:  29% (11/37)Receiving objects:  32% (12/37)Receiving objects:  35% (13/37)Receiving objects:  37% (14/37)Receiving objects:  40% (15/37)Receiving objects:  43% (16/37)Receiving objects:  45% (17/37)Receiving objects:  48% (18/37)Receiving objects:  51% (19/37)Receiving objects:  54% (20/37)Receiving objects:  56% (21/37)Receiving objects:  59% (22/37)Receiving objects:  62% (23/37)Receiving objects:  64% (24/37)Receiving objects:  67% (25/37)Receiving objects:  70% (26/37)Receiving objects:  72% (27/37)Receiving objects:  75% (28/37)Receiving objects:  78% (29/37)Receiving objects:  81% (30/37)Receiving objects:  83% (31/37)Receiving objects:  86% (32/37)Receiving objects:  89% (33/37)Receiving objects:  91% (34/37)Receiving objects:  94% (35/37)Receiving objects:  97% (36/37)Receiving objects: 100% (37/37)Receiving objects: 100% (37/37), 4.22 KiB | 4.22 MiB/s, done.
Resolving deltas:   0% (0/6)Resolving deltas:  16% (1/6)Resolving deltas:  33% (2/6)Resolving deltas:  50% (3/6)Resolving deltas:  83% (5/6)Resolving deltas: 100% (6/6)Resolving deltas: 100% (6/6), done.</code></pre>
</div>
</details>
</div>
<div id="43e6e220" class="cell" data-output-fold="true" data-execution_count="74">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb95-1"><a href="#cb95-1"></a><span class="bu">cd</span> analysis_clone</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>We can clone this repository and provide, for example, the checksum of the run command to the <code>datalad rerun</code> command. DataLad will read the machine-readable record of what was done and recompute the exact same thing.</p>
<div id="e09bc0ae" class="cell" data-output-fold="true" data-execution_count="75">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb96"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb96-1"><a href="#cb96-1"></a><span class="ex">datalad</span> rerun 3bb049d</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre>[INFO   ] run commit 3bb049d; (Analyze iris data...) 

[INFO   ] Making sure inputs are available (this may take some time) 


Cloning:   0%|                             | 0.00/4.00 [00:00&lt;?, ? candidates/s]


Enumerating: 0.00 Objects [00:00, ? Objects/s]


                                              


Counting:   0%|                               | 0.00/25.0 [00:00&lt;?, ? Objects/s]


                                                                                


Compressing:   0%|                            | 0.00/19.0 [00:00&lt;?, ? Objects/s]


                                                                                


Receiving:   0%|                              | 0.00/25.0 [00:00&lt;?, ? Objects/s]


                                                                                


Resolving:   0%|                               | 0.00/3.00 [00:00&lt;?, ? Deltas/s]


                                                                                
                                                                                
[INFO   ] Remote origin not usable by git-annex; setting annex-ignore 

[INFO   ] https://github.com/datalad-handbook/iris_data.git/config download failed: Not Found 

<span class="ansi-bold">install</span>(<span class="ansi-green-fg ansi-bold">ok</span>): input (<span class="ansi-magenta-fg ansi-bold">dataset</span>) [Installed subdataset in order to get /app/analysis_clone/input]


Total:   0%|                                   | 0.00/3.98k [00:00&lt;?, ? Bytes/s]


Get iris.csv:   0%|                            | 0.00/3.98k [00:00&lt;?, ? Bytes/s]


                                                                                
                                                                                
<span class="ansi-bold">get</span>(<span class="ansi-green-fg ansi-bold">ok</span>): input/iris.csv (<span class="ansi-magenta-fg ansi-bold">file</span>) [from web...]

<span class="ansi-bold">run.remove</span>(<span class="ansi-green-fg ansi-bold">ok</span>): pairwise_relationships.png (<span class="ansi-magenta-fg ansi-bold">file</span>) [Removed file]

<span class="ansi-bold">run.remove</span>(<span class="ansi-green-fg ansi-bold">ok</span>): prediction_report.csv (<span class="ansi-magenta-fg ansi-bold">file</span>) [Removed file]

[INFO   ] == Command start (output follows) ===== 

action summary:

  get (notneeded: 2)

[INFO   ] == Command exit (modification check follows) ===== 

<span class="ansi-bold">run</span>(<span class="ansi-green-fg ansi-bold">ok</span>): /app/analysis_clone (<span class="ansi-magenta-fg ansi-bold">dataset</span>) [python3 code/script.py]


Total: 0.00 datasets [00:00, ? datasets/s]
Total:   0%|                                 | 0.00/2.00 [00:00&lt;?, ? datasets/s]
Total:   0%|                                 | 0.00/2.00 [00:00&lt;?, ? datasets/s]


Total:   0%|                                    | 0.00/261k [00:00&lt;?, ? Bytes/s]


                                                                                
                                                                                
<span class="ansi-bold">add</span>(<span class="ansi-green-fg ansi-bold">ok</span>): pairwise_relationships.png (<span class="ansi-magenta-fg ansi-bold">file</span>)


Total (1 skipped):  50%|███████       | 1.00/2.00 [00:00&lt;00:00, 7.74 datasets/s]
                                                                                
<span class="ansi-bold">add</span>(<span class="ansi-green-fg ansi-bold">ok</span>): prediction_report.csv (<span class="ansi-magenta-fg ansi-bold">file</span>)


Total (1 skipped):  50%|███████       | 1.00/2.00 [00:00&lt;00:00, 7.73 datasets/s]
Total (1 skipped): 100%|██████████████| 2.00/2.00 [00:00&lt;00:00, 15.4 datasets/s]
                                                                                
<span class="ansi-bold">save</span>(<span class="ansi-green-fg ansi-bold">ok</span>): . (<span class="ansi-magenta-fg ansi-bold">dataset</span>)


Total (1 skipped): 100%|██████████████| 2.00/2.00 [00:00&lt;00:00, 15.4 datasets/s]
                                                                                
action summary:

  add (ok: 2)

  get (notneeded: 1, ok: 1)

  install (ok: 1)

  run (ok: 1)

  run.remove (ok: 2)

  save (notneeded: 1, ok: 1)
</pre>
</div>
</div>
</details>
</div>
<p>The <code>datalad rerun</code> command demonstrates the ultimate goal of reproducible research:</p>
<p><strong>What <code>datalad rerun</code> does:</strong> - <strong>Reads the provenance record</strong>: Extracts the exact command, inputs, and outputs from the commit - <strong>Recreates the environment</strong>: Sets up the same conditions as the original run - <strong>Re-executes the command</strong>: Runs the exact same command that generated the original results - <strong>Validates outputs</strong>: Ensures the results match what was originally produced</p>
<p><strong>Why this is revolutionary:</strong> - <strong>Perfect reproducibility</strong>: No ambiguity about how results were generated - <strong>Effortless replication</strong>: Others can reproduce your work with a single command - <strong>Dependency management</strong>: DataLad automatically retrieves required input data - <strong>Update workflows</strong>: Easily update results when input data or code changes - <strong>Scientific transparency</strong>: Computational methods become fully transparent</p>
<p>This capability transforms scientific computing from “trust me, this is how I did it” to “here’s exactly how to do it yourself.”</p>
<p>This allows others to easily rerun your computations. It also spares you the need to remember how you executed a script, and you can inquire about where the results came from.</p>
<div id="c323f8de" class="cell" data-output-fold="true" data-execution_count="76">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb97-1"><a href="#cb97-1"></a><span class="fu">git</span> log pairwise_relationships.png</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<details><summary>Code Output</summary>
<div class="cell-output cell-output-stdout">
<pre><code>commit eca67702bcd9554d3f4fec6cf5f6021bfe28c062 (HEAD -&gt; main)
Author: Ford Escort &lt;42@H2G2.com&gt;
Date:   Thu Feb 5 23:46:55 2026 +0000

    [DATALAD RUNCMD] Analyze iris data with classification analysis
    
    === Do not change lines below ===
    {
     "chain": [
      "3bb049dfdf42d5fd08e12b064a1eb8423951fad3"
     ],
     "cmd": "python3 code/script.py",
     "dsid": "a60bb21c-c42a-439a-aca4-9d450d33ae63",
     "exit": 0,
     "extra_inputs": [],
     "inputs": [
      "input/iris.csv"
     ],
     "outputs": [
      "prediction_report.csv",
      "pairwise_relationships.png"
     ],
     "pwd": "."
    }
    ^^^ Do not change lines above ^^^

commit 3bb049dfdf42d5fd08e12b064a1eb8423951fad3 (origin/main, origin/HEAD)
Author: Lennart Wittkuhn &lt;lennart.wittkuhn@tutanota.com&gt;
Date:   Mon Jul 7 21:54:32 2025 +0200

    [DATALAD RUNCMD] Analyze iris data with classification analysis
    
    === Do not change lines below ===
    {
     "chain": [],
     "cmd": "python3 code/script.py",
     "dsid": "a60bb21c-c42a-439a-aca4-9d450d33ae63",
     "exit": 0,
     "extra_inputs": [],
     "inputs": [
      "input/iris.csv"
     ],
     "outputs": [
      "prediction_report.csv",
      "pairwise_relationships.png"
     ],
     "pwd": "."
    }
    ^^^ Do not change lines above ^^^</code></pre>
</div>
</details>
</div>
<p>This command shows the complete history of a specific file (<code>pairwise_relationships.png</code>). You can trace exactly:</p>
<ul>
<li><strong>When the file was created</strong>: The exact timestamp</li>
<li><strong>How it was created</strong>: The command that generated it</li>
<li><strong>What inputs were used</strong>: The data that contributed to this result</li>
<li><strong>Who created it</strong>: The author of the analysis</li>
<li><strong>Why it was created</strong>: The commit message explaining the purpose</li>
</ul>
<p><strong>The broader impact:</strong> This level of provenance tracking transforms research in several ways:</p>
<ul>
<li><strong>Eliminates “mystery results”</strong>: Every output has a clear, traceable origin</li>
<li><strong>Enables confident reuse</strong>: You know exactly what each file represents</li>
<li><strong>Facilitates collaboration</strong>: Team members can understand and build on each other’s work</li>
<li><strong>Supports peer review</strong>: Reviewers can examine the exact computational methods</li>
<li><strong>Enables meta-analysis</strong>: Researchers can compare and combine methods across studies</li>
</ul>
<p><strong>Done! Thanks for coding along!</strong></p>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a></div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/lennartwittkuhn\.com\/rdm-datalad\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
        for (let i=0; i<annoteTargets.length; i++) {
          const annoteTarget = annoteTargets[i];
          const targetCell = annoteTarget.getAttribute("data-target-cell");
          const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
          const contentFn = () => {
            const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
            if (content) {
              const tipContent = content.cloneNode(true);
              tipContent.classList.add("code-annotation-tip-content");
              return tipContent.outerHTML;
            }
          }
          const config = {
            allowHTML: true,
            content: contentFn,
            onShow: (instance) => {
              selectCodeLines(instance.reference);
              instance.reference.classList.add('code-annotation-active');
              window.tippy.hideAll();
            },
            onHide: (instance) => {
              unselectCodeLines();
              instance.reference.classList.remove('code-annotation-active');
            },
            maxWidth: 300,
            delay: [50, 0],
            duration: [200, 0],
            offset: [5, 10],
            arrow: true,
            appendTo: function(el) {
              return el.parentElement.parentElement.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'quarto',
            placement: 'right',
            popperOptions: {
              modifiers: [
              {
                name: 'flip',
                options: {
                  flipVariations: false, // true by default
                  allowedAutoPlacements: ['right'],
                  fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
                },
              },
              {
                name: 'preventOverflow',
                options: {
                  mainAxis: false,
                  altAxis: false
                }
              }
              ]        
            }      
          };
          window.tippy(annoteTarget, config); 
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/lnnrtwttkhn/rdm-datalad/edit/main/tutorial.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/lnnrtwttkhn/rdm-datalad/blob/main/tutorial.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/lnnrtwttkhn/rdm-datalad/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer><script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>